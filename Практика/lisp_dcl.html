<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>

<Head>
<Meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<Title>Электронный ресурс по учебной дисциплине ОСАПр. Язык управления диалогом - DCL</Title>
<Meta Name="Description" http-equiv="description" Content="Электронный ресурс по учебной дисциплине ОСАПр. Язык управления диалогом - DCL">
<Link Rel="stylesheet" Type="text/css" Href="../../../Оболочка/acad.css">

<Script>hljs.initHighlightingOnLoad();</Script>

<Script Language="JavaScript">
<!--
	function mOver(num) {if (document.images) {document.images['link'+num].src=eval('active'+num+'.src');}}
	function mOut(num) {if (document.images) {document.images['link'+num].src=eval('normal'+num+'.src');}}
//-->
</Script>
</Head>

<Body Bgcolor=#E6E6E6 TopMargin=1 LeftMargin=1 MarginWidth=0 MarginHeight=0 >
<div class=max>
<Script Language="JavaScript"><!--
if (document.images) {
	normal1=new Image(190,29);normal1.src="../../../Оболочка/images//01a.gif";
	active1=new Image(190,29);active1.src="../../../Оболочка/images//01p.gif";
	normal2=new Image(190,29);normal2.src="../../../Оболочка/images/02a.gif";
	active2=new Image(190,29);active2.src="../../../Оболочка/images/02p.gif";
	normal3=new Image(190,29);normal3.src="../../../Оболочка/images//03a.gif";
	active3=new Image(190,29);active3.src="../../../Оболочка/images//03p.gif";
	normal4=new Image(159,46);normal4.src="../../../Оболочка/images//09a.gif";
	active4=new Image(159,46);active4.src="../../../Оболочка/images//09p.gif";
	normal5=new Image(159,54);normal5.src="../../../Оболочка/images//10a.gif";
	active5=new Image(159,54);active5.src="../../../Оболочка/images//10p.gif";
	normal7=new Image(190,29);normal7.src="../../../Оболочка/images//7a.gif";
	active7=new Image(190,29);active7.src="../../../Оболочка/images//7p.gif";
	normal11=new Image(170,25);normal11.src="../../../Оболочка/images//02_1a.gif";
	active11=new Image(170,25);active11.src="../../../Оболочка/images//02_1p.gif";
	normal12=new Image(170,19);normal12.src="../../../Оболочка/images//02_2a.gif";
	active12=new Image(170,19);active12.src="../../../Оболочка/images//02_2p.gif";
	normal13=new Image(170,19);normal13.src="../../../Оболочка/images//02_3a.gif";
	active13=new Image(170,19);active13.src="../../../Оболочка/images//02_3p.gif";
	normal24=new Image(170,19);normal24.src="../../../Оболочка/images//04a.gif";
	active24=new Image(170,19);active24.src="../../../Оболочка/images//04p.gif";
	normal25=new Image(170,19);normal25.src="../../../Оболочка/images//05a.gif";
	active25=new Image(170,19);active25.src="../../../Оболочка/images//05p.gif";
	normal26=new Image(170,19);normal26.src="../../../Оболочка/images//06a.gif";
	active26=new Image(170,19);active26.src="../../../Оболочка/images//06p.gif";
	normal14=new Image(170,19);normal14.src="../../../Оболочка/images//l1_a.gif";
	active14=new Image(170,19);active14.src="../../../Оболочка/images//l1_p.gif";
	normal15=new Image(170,19);normal15.src="../../../Оболочка/images//z_a.gif";
	active15=new Image(170,19);active15.src="../../../Оболочка/images//z_p.gif";
	normal16=new Image(170,19);normal16.src="../../../Оболочка/images//l2_a.gif";
	active16=new Image(170,19);active16.src="../../../Оболочка/images//l2_p.gif";
	normal17=new Image(170,19);normal17.src="../../../Оболочка/images//z_a.gif";
	active17=new Image(170,19);active17.src="../../../Оболочка/images//z_p.gif";
	normal18=new Image(170,19);normal18.src="../../../Оболочка/images//l3_a.gif";
	active18=new Image(170,19);active18.src="../../../Оболочка/images//l3_p.gif";
	normal19=new Image(170,19);normal19.src="../../../Оболочка/images//z_a.gif";
	active19=new Image(170,19);active19.src="../../../Оболочка/images//z_p.gif";
	normal20=new Image(170,19);normal20.src="../../../Оболочка/images//l4_a.gif";
	active20=new Image(170,19);active20.src="../../../Оболочка/images//l4_p.gif";
	normal21=new Image(170,19);normal21.src="../../../Оболочка/images//z_a.gif";
	active21=new Image(170,19);active21.src="../../../Оболочка/images//z_p.gif";
	normal27=new Image(170,19);normal27.src="../../../Оболочка/images/15a.gif";
	active27=new Image(170,19);active27.src="../../../Оболочка/images/15p.gif";
}
//-->
</Script>

<Left>
<A Name="Top"></A>
<Table Border=0 Width=100% CellSpacing=0 CellPadding=0>
<Tr>
 <Td BackGround=../../../Оболочка/images/bg01.gif Width=190 Height=91 name="link19">&nbsp;</Td>
 <Td Rowspan=2 BackGround=../../../Оболочка/images/bg02_acad.gif Height=120 Valign=Bottom style="background-repeat:no-repeat;">

<Table BackGround=../../../Оболочка/images/raspor.gif Border=0 CellSpacing=0 CellPadding=0>
 <Tr>
  <Td Width=230></Td>
  <Td><P Class=h6>AutoLISP<Br><Img Src=../../../Оболочка/images/raspor.gif Width=1 Height=26></P></Td>
 </Tr>
</Table>

</Td></Tr>
<Tr>
 


<Td BackGround=../../../Оболочка/images/bg03.gif>
 <A Href=../../../Программа/!rabprog.html onMouseOver="mOver(26)" onMouseOut="mOut(26)"><Img Src=../../../Оболочка/images/06a.gif Width=190 Height=29 Border=0 
Alt="Рабочая программа" name="link26"></A><Br></Td>

</Tr>
<Tr>
 <Td BackGround=../../../Оболочка/images/bg09.gif Valign=Top>

<Table Border=0 CellSpacing=0 CellPadding=0>
<Tr><Td BackGround=../../../оболочка/images/bg03.gif Valign=Top>
	<A Href=../../../Теория/!lekcii.html onMouseOver="mOver(7)" onMouseOut="mOut(7)"><Img Src=../../../оболочка/images/7a.gif Width=190 Height=29 Border=0 
Alt="Лекции" name="link7"></A><Br>
 </Td>
 <Tr><Td BackGround=../../../оболочка/images/bg04.gif Width=190 Valign=Top>
 <a href="../../!zadanie.html"> <Img Src=../../../оболочка/images/8p.gif Border=0 Width=190 Height=29 Alt="Лабораторные работы"></a><Br></Td>
<Tr><Td BackGround=../../../оболочка/images/bg05_1.gif Width=190 Valign=Top>
  <A href="../lb1/!acad.html" onMouseOver="mOver(14)" onMouseOut="mOut(14)"><Img Src=../../../оболочка/images/l1_a.gif Width=170 Height=40 Border=0 Alt="Лабораторная работа 1" name="link14"></A><Br></Td></Tr>
<Tr><Td BackGround=../../../оболочка/images/bg06.gif Width=190 Height=36 Valign=Top>
   <A href="../lb1/laba1.html"  onMouseOver="mOver(15)" onMouseOut="mOut(15)"><Img Src=../../../Оболочка/images/z_a.gif Width=170 Height=20 Border=0 Alt="Задания 1" name="link15"></A><Br>
  <A href="../lb2/!mechanic.html" onMouseOver="mOver(18)" onMouseOut="mOut(18)"><Img Src=../../../Оболочка/images/l3_a.gif Width=170 Height=40 Border=0 Alt="Лабораторная работа 2" name="link18"></A><Br>
<A  href="../lb2/laba2.html" onMouseOver="mOver(19)" onMouseOut="mOut(19)"><Img Src=../../../Оболочка/images/z_a.gif Width=170 Height=20 Border=0 Alt="Задания 2" name="link19"></A><Br>
  <A href="../lb2/!mechanic.html" onMouseOver="mOver(20)" onMouseOut="mOut(20)"><Img Src=../../../Оболочка/images/l4_a.gif Width=170 Height=40 Border=0 Alt="Лабораторная работа 3" name="link20"></A><Br>
<A href="../lb3/laba3.html"1 onMouseOver="mOver(21)" onMouseOut="mOut(21)"><Img Src=../../../Оболочка/images/z_a.gif Width=170 Height=20 Border=0 Alt="Задания 3" name="link21"></A><Br>
 <A href="../lb4/!lisp.html" onMouseOver="mOver(16)" onMouseOut="mOut(16)"><Img Src=../../../Оболочка/images/l2_a.gif Width=170 Height=40 Border=0 Alt="Лабораторная работа 4" name="link16"></A><Br>
<A  href="../lb4/laba4.html" onMouseOver="mOver(17)" onMouseOut="mOut(17)"><Img Src=../../../Оболочка/images/z_a.gif Width=170 Height=20 Border=0 Alt="Задания 4" name="link17"></A><Br>
  <Img Src=../../../Оболочка/images/bg07.gif Width=190 Height=23><Br></Td></Tr>
 
 <Tr><Td BackGround=../../../оболочка/images/bg03.gif Valign=Top>
   <A Href=../../../Заочнику/!zaochnoe.html onMouseOver="mOver(27)" onMouseOut="mOut(27)"><Img Src=../../../Оболочка/images/15a.gif Width=190 Height=29 Border=0  Alt="Заочнику" name="link27"></A><Br>
  <A Href=../../../Контроль_знаний/!samocontrol.html onMouseOver="mOver(25)" onMouseOut="mOut(25)"><Img Src=../../../оболочка/images/05a.gif Width=190 Height=29 Border=0 
Alt="Самоконтроль" name="link25"></A><Br>
	 <Img Src=../../../оболочка/images/bg08.gif Width=190 Height=13><Br>
</Table></Td>
 <Td Valign=Top>
<P><Br></P>

<Center>
<Table Border=0 CellPadding=0 CellSpacing=0 Width=97%><Tr><Td>

<Br>
<Table Border=0 CellPadding=0 CellSpacing=0>
<Tr><Td Bgcolor=#000000><Img Src=../../../оболочка/images/raspor.gif Height=2></Td>
<Tr><Td Valign=Center Height=30><span Class=h1>Язык управления диалогом - DCL</span></Td></Tr>
<Tr><Td Bgcolor=#000000><Img Src=../../../оболочка/images/raspor.gif Height=2></Td></Tr>
</Table></Center><Br>

 <Table valign="left"><Tr align="left"><Td>
<Ul>
<Dt><A Class=m href="#tit1">Предварительно определенные активные поля</A></Dt>
<Dt><A Class=m href="#tit2">Предварительно определенные активные группы полей</A></Dt>
<Dt><A Class=m href="#tit3">Декоративные и информационные поля</A></Dt>
<Dt><A Class=m href="#tit4">Предопределенные атрибуты</A></Dt>
<Dt><A Class=m href="#tit5">Структура DCL-файла</A></Dt>
<Dt><A Class=m href="#tit6">Файлы base.dcl и асаd.dcl</A></Dt>
<Dt><A Class=m href="#tit7">Определенные пользователем DCL-файлы</A></Dt>
<Dt><A Class=m href="#tit8">Синтаксис языка DCL</A></Dt>
<Dt><A Class=m href="#tit9">Определение поля</A></Dt>
<Dt><A Class=m href="#tit10">Ссылки на поля</A></Dt>
<Dt><A Class=m href="#tit11">Атрибуты и значения атрибутов</A></Dt>
<Dt><A Class=m href="#tit12">Комментарии</A></Dt>
<Dt><A Class=m href="#tit13">Обработка ошибок в DCL</A></Dt>
</Ul>
</Td></Tr></Table>

<Hr Width="90%" Color="#7685C6" Align="Right">
<Br>


<P>Диалоговые окна AutoCAD определяются текстовыми файлами, написанными на DCL. Эти файлы имеют расширение .dcl. В них содержится описание способа вывода окна и его состав: клавиши, списки, скользящие шкалы, кнопки выбора и т. п. Правила конструирования диалоговых окон задают ограничения на размер и место расположения окна. Расположение элементов окна очень похоже на расположение абзацев в сформатированном тексте, поэтому нет необходимости задавать точные координаты фрагментов окон.</P>
<P>Диалоговое окно из меню AutoCAD вызывается через функцию AutoLISP или внешнюю функцию СРП (Средства Разработки Приложений), которые управляют диалоговым окном.</P>
<P>В каждом диалоговом окне содержится одно или несколько полей, определяющих функции окна. К основным типам полей относятся базовые поля: клавиши, кнопки, текстовые поля, скользящие шкалы, поля списков, поля изображений. Поля могут обрамляться рамками. Можно комбинировать поля, создавая ряды и колонки. Каждое диалоговое окно рассматривается как древовидная структура, вершина которой представляется на языке DCL как dialog. Управление появлением и поведением поля на этом языке осуществляется атрибутами поля. Можно определить новые поля (прототипы) и группы полей, которые не связаны с обыкновенными диалоговыми окнами. На прототипы можно ссылаться и изменять при необходимости их атрибуты и предварительно определенные поля. Объединения используются только для внешних ссылок. Их атрибуты изменять нельзя.</P>

<Table>
<Tr>
 <Td><Center><Img Src=images/lisp/lisp_dcl01.gif></Center></Td>
 <Td Width=24></Td>
 <Td><Center><Img Src=images/lisp/lisp_dcl02.gif></Center></Td>
</Tr>
<Table>
<Tr><Td>

<P>На этом рисунке показан пример структуры диалогового окна. Уровни дерева - это встроенные поля, а вершина дерева - примитив диалога. Описание диалогового окна дается на языке DCL, отражающем его древовидную структуру.</P>

<A name="tit1"></A>
<P Class=h3>Предварительно определенные активные поля</P>

<P>Предварительно определенные поля непосредственно поддерживаются средствами программируемых диалоговых окон AutoCAD. Их определения содержатся в файле base.dcl в виде комментариев. При выборе активного поля диалоговое окно извещает об этом приложение (программу на LISP или С), управляющее диалоговым окном. Подобная операция называется действием или вызовом с возвратом. Любое предварительно определенное активное поле имеет соответствующий видимый внешний эффект (например, раскрытие списка или закрытие диалога при указании клавиши OK) или внутренний эффект. В этом случае вырабатывается код причины, смысл которого зависит от типа поля, его инициировавшего.</P>

<Tr><Td>

<Center>
<Table Border="1" CellPadding="2" CellSpacing="1">
 <Tr BgColor="#D1D6E9">
 <Td COLSPAN=2><P Class=tcb>Тип поля</P></Td>
</Tr>
<Tr >
 <Td COLSPAN=2 BGCOLOR="#F1F6FF"><P Class="tl"><B>Клавиша - button:</B> Поле диалогового окна, напоминающее обычную клавишу клавиатуры. Клавиши предназначены для выполнения действий, имеющих внешний эффект для пользователя:
закрытие диалогового окна, появление еще одного окна и т. д. Все диалоговые окна содержат клавишу OK или ее эквивалент, позволяющую выполнить действие окна, а многие окна - клавишу Cancel, позволяющую пользователю покинуть диалоговое окно без внесения каких-либо изменений.
</P></Td>
</Tr>
<Tr>
 <Td COLSPAN=2 BGCOLOR="#D1D6E9"><P Class=tcb>Атрибуты</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>label:</P></Td>
 <Td><P Class=tl>Метка - строка, заключенная в кавычки (значения по умолчанию нет). Определяет надпись, которая появляется на клавише.</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>is_default:</P></Td>
 <Td><P Class=tl>Возможные значения: true или false (по умолчанию - false). Если значение true, клавиша является клавишей по умолчанию и указывается, когда пользователь нажимает клавишу RETURN. Если пользователь работает в текстовом поле, поле списка или клавише изображения, имеющих атрибут allow_accept, установленный в true, клавиша по умолчанию также выбирается путем указания клавиши принятия или (для полей списка и клавиш изображения) выполнения двойного указания с помощью кнопки выбора устройства указания. Клавиша по умолчанию не выбирается при нажатии клавиши выполнения, если подсвечена другая клавиша: в этом случае будет выбрана подсвеченная клавиша.<Br>
Клавиша по умолчанию выводится на экран отличным от других клавиш способом, например с помощью дополнительной рамки.<Br>
Только одна клавиша в диалоговом окне может иметь значение атрибута is_default, равное true.</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>is_cancel:</P></Td>
 <Td><P Class=tl>Возможные значения: true или false (по умолчанию - false). Если значение true, клавиша выбирается при нажатии клавиши отмены (например, ESC или Ctrl+C).<Br>
Только одна клавиша в диалоговом окне может иметь значение атрибута is_cancel, равное true. Клавиша, имеющая установленный в true атрибут is_cancel, закрывает диалоговое окно после выполнения действия или вызова с возвратом.</P></Td>
</Tr>
</Table></Center><Br>



<Center>
<Table Border="1" CellPadding="2" CellSpacing="1">
 <Tr BgColor="#D1D6E9">
 <Td COLSPAN=2><P Class=tcb>Тип поля</P></Td>
</Tr>
<Tr >
 <Td COLSPAN=2 BGCOLOR="#F1F6FF"><P Class="tl"><B>Текстовое поле - edit_box:</B> Поле в котором пользователь может вводить или редактировать текстовую строку. Если вводимый текст превышает размеры текстового поля, его можно "прокрутить" в горизонтальном направлении.</P></Td>
</Tr>
<Tr>
 <Td COLSPAN=2 BGCOLOR="#D1D6E9"><P Class=tcb>Атрибуты</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>label:</P></Td>
 <Td><P Class=tl>Значение - строка, заключенная в кавычки (по умолчанию - пустая - " "). Текст выводится слева от поля. Если он определен, атрибут выравнивается влево по ширине текстового поля.</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>Edit_width:</P></Td>
 <Td><P Class=tl>Возможные значения: целое или вещественное число. Ширина редактируемой части поля, ограниченной рамкой текстового поля в единицах ширины символ. Если атрибут не указан или установлен в нуль и ширина поля не ограничена, рамка расширяется настолько, насколько это возможно. Если значение атрибута не равно нулю, рамка выравнивается вправо внутри занятого полем пространства. Если необходимо вытянуть поле, можно при компоновке вставить пробелы между атрибутом и редактируемой частью поля средствами PDB.</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>Edit_limit:</P></Td>
 <Td><P Class=tl>Значение - целое число (по умолчанию - 132); максимум - 256. Максимальное число символов, которое может ввести пользователь в текстовое поле. Когда этот предел достигается, драйвер монитора отбрасывает дополнительные символы (кроме Backspase или Del) и выдает сигнал.</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>Value:</P></Td>
 <Td><P Class=tl>Значение - строка, заключенная в кавычки (по умолчанию - пустая - " "). Исходное значение текстовое, размещенное в рамке. Значение выравнено влево в редактируемой части поля.<Br>Значение текстового поля всегда заканчивается пустым вводом (\0 или EOS). Если пользователь вводит больше символов, чем установлено атрибутом edit_limit, и при этом необходимо усечь строку, добавляется пустой символ.</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>Allow_accept:</P></Td>
 <Td><P Class=tl>Возможные значения: true или false (по умолчанию - false). Если значение равно true и пользователь нажал клавишу выполнения (обычно клавиша RETURN), клавиша по умолчанию (если есть) становится "нажатой". (Клавишей по умолчанию считается клавиша, атрибут is_default которой установлен в true.)</P></Td>
</Tr>
</Table></Center><Br>



<Center>
<Table Border="1" CellPadding="2" CellSpacing="1">
 <Tr BgColor="#D1D6E9">
 <Td COLSPAN=2><P Class=tcb>Тип поля</P></Td>
</Tr>
<Tr >
 <Td COLSPAN=2 BGCOLOR="#F1F6FF"><P Class="tl"><B>Клавиша изображения - image_button:</B> Поле с нарисованным графическим изображением. Когда пользователь выбирает клавишу изображения, программа получает координаты точки, в которой произошел выбор. Это может быть полезно, если нарисован небольшой рисунок и выбор разных его областей имеет разное значение.</P></Td>
</Tr>
<Tr>
 <Td COLSPAN=2 BGCOLOR="#D1D6E9"><P Class=tcb>Атрибуты</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>Color:</P></Td>
 <Td><P Class=tl>Цвет фона рисунка, определенный как номер цвета AutoCAD или одно из символьных имен (по умолчанию - 7):<Br>
dialog_line - текуший цвет диалогового окна;<Br>
dialog_forground - текущий цвет символов диалогового окна (для текста);<Br>
dialog_background - текущий цвет фона диалогового окна;<Br>
graphic_background - текущий цвет фона графического экрана AutoCAD (обычно аналог 0);<Br>
black - цвет AutoCAD (черный) на черном фоне изображается как белый;<Br>
red - цвет AutoCAD 1 (красный);<Br>
yellow - цвет AutoCAD 2 (желтый);<Br>
green - цвет AutoCAD 3 (зеленый);<Br>
cyan - цвет AutoCAD 4 (голубой);<Br>
blue - цвет AutoCAD 5 (синий);<Br>
magenta - цвет AutoCAD 6 (фиолетовый);<Br>
white - цвет AutoCAD 7 (белый);<Br>
graphic_forground на белом фоне изображается как черный.</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>Allow_accept:</P></Td>
 <Td><P Class=tl>Возможные значения: true или false (по умолчанию - false). Если значение равно true и пользователь нажал клавишу выполнения (обычно клавиша RETURN), клавиша по умолчанию (если есть) становится "нажатой". (Клавишей по умолчанию считается клавиша, атрибут is_default которой установлен в true.</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>Acpect_ratio:</P></Td>
 <Td><P Class=tl>Отношение ширины изображения к его высоте (ширина, деленная на высоту). Если значение равно нулю (0.0), то поле подгоняется под размеры изображения. Возможно значение с плавающей точкой (значения по умолчанию нет).<Br>
Полю изображения необходимо присвоить точные значения атрибутов width и height или один из этих атрибутов плюс значение acpect_ratio.</P></Td>
</Tr>
</Table></Center><Br>


<Center>
<Table Border="1" CellPadding="2" CellSpacing="1">
 <Tr BgColor="#D1D6E9">
 <Td COLSPAN=2><P Class=tcb>Тип поля</P></Td>
</Tr>
<Tr >
 <Td COLSPAN=2 BGCOLOR="#F1F6FF"><P Class="tl"><B>Поле списка - list_box:</B> Поле, содержащее ряды текстовых строк. Наличие такого поля дает возможность пользователю выбрать необходимый пункт из списка. Обычно список имеет переменную длину, но поля списков могут использоваться и для списков фиксированной длины. При выборе строки списка она подсвечивается. Поле списка может содержать строк больше, чем вмещает поле; в этом случае справа от списка поля появляется скользащая шкала (она включена только тогда, когда список имеет больше пунктов, чем можно ввести за один раз). Перемещая визир скользящей шкалы или указывая на стрелки, можно просмотреть весь список. В зависимости от приложения пользователь может выбрать несколько строк списка.</P></Td>
</Tr>
<Tr>
 <Td COLSPAN=2 BGCOLOR="#D1D6E9"><P Class=tcb>Атрибуты</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>Label:</P></Td>
 <Td><P Class=tl>Текст, выводимый над полем списка. Значение - строка, заключенная в кавычки (значения по умолчанию - нет).</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>Multiple_select:</P></Td>
 <Td><P Class=tl>Возможные значения true или false (по умолчанию - false). Если true, в поле списка можно выбрать (и подсветить несколько пунктов). Если false, в поле списка может быть выбран только один пункт, а выбор другого пункта отменит выбор предыдущего.</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>List:</P></Td>
 <Td><P Class=tl>Определяет начальный выбор строк, размещенных в поле списка. Строки разделяются символом новой строки (\n). Символ табуляции (\t) может присутствовать в каждой строке. Значение - строка, заключенная в кавычки (значения по умолчанию нет).</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>Tabs:</P></Td>
 <Td><P Class=tl>Значение - строка, заключенная в кавычки, содержащая целые числа или числа с плавающей точкой, разделенные пробелами (значения по умолчанию нет). Каждое число - это величина, которая определяет расположение табуляций в единицах ширины символа. Эти значения используются для вертикального выравнивания колонок текста в поле списка (см. диалоговое окно управления слоями AutoCAD, acad_mylayer в файле acad.dcl).</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>Value:</P></Td>
 <Td><P Class=tl>Значение - строка, заключенная в кавычки, может содержать нуль ("0") или целые числа, разделенные пробелами (значения по умолчанию нет). Каждое целое (начиная с нуля) представляет первоначально выбранный пункт списка. Если значение атрибута multiple_select равно false, атрибут value не может содержать более одного числа.<Br>
Если строка пуста (" "), первоначально не будет выбран ни один пункт. В этом случае этот атрибут можно вообще не определять.</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>Allow_accept:</P></Td>
 <Td><P Class=tl>Возможные значения: true или false (по умолчанию - false). Если значение равно true и пользователь нажал клавишу выполнения (обычно клавиша Return), клавиша по умолчанию становится "нажатой". (Клавишей по умолчанию считается клавиша, атрибут is_default которой установлен в true.)</P></Td>
</Tr>
</Table></Center><Br>



<Center>
<Table Border="1" CellPadding="2" CellSpacing="1">
 <Tr BgColor="#D1D6E9">
 <Td COLSPAN=2><P Class=tcb>Тип поля</P></Td>
</Tr>
<Tr >
 <Td COLSPAN=2 BGCOLOR="#F1F6FF"><P Class="tl"><B>Раскрывающийся список - popup_list:</B> Раскрывающийся список эквивалентен полю списка. Когда диалоговое окно появляется первый раз, раскрывающийся список находится в закрытом состоянии и на экране он выглядит скорее как клавиша с направленной вниз стрелкой справа. При выборе надписи или стрелки список раскрывается и позволяет выбрать необходимый пункт в пределах окна. Раскрытый список, как правило, отображается полностью, в противном случае он будет иметь скользящую шкалу справа, которая функционально аналогична скользящей шкале поля списка. Когда раскрывающийся список закрыт, текущий выбор появляется в его видимой области. Раскрывающиеся списки не допускают выбора нескольких элементов одновременно.</P></Td>
</Tr>
<Tr>
 <Td COLSPAN=2 BGCOLOR="#D1D6E9"><P Class=tcb>Атрибуты</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>Label:</P></Td>
 <Td><P Class=tl>Значение - строка, заключенная в кавычки (значения по умолчанию нет). Это текст, выводимый слева от раскрывающегося списка. Если значение атрибута label определено, оно выравнивается влево в пределах поля popup_list.</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>Edit_width:</P></Td>
 <Td><P Class=tl>Возможные значения: целое или вещественное число. Ширина части списка в единицах ширины символа, ширина рамки, описывающей единственный пункт, когда раскрывающийся список закрыт. Список не включает необязательную метку слева и стрелку (или скользящую шкалу) справа. Если атрибут не указан или установлен в нуль и ширина поля не задана, рамка расширяется настолько, насколько это возможно. Если значение атрибута не равно нулю, рамка выравнивается вправо внутри занятого полем пространства. Если необходимо вытянуть поле, можно при компоновке вставить пробелы между атрибутом и редактируемой частью поля средствами PDB.</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>Value:</P></Td>
 <Td><P Class=tl>Значение - строка, заключенная в кавычки, содержащая целое число (по умолчанию 0). Целое число (начиная с нуля) представляет текущий выбранный пункт в списке (пункт, который выводится на экран при закрытом списке).</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>List:</P></Td>
 <Td><P Class=tl>Определяет начальный выбор строк, размещенных в поле списка. Строки разделяются символом новой строки (\n). Символ табуляции (\t) может присутствовать в каждой строке. Значение - строка, заключенная в кавычки (значения по умолчанию нет).</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>Tabs:</P></Td>
 <Td><P Class=tl>Значение - строка, заключенная в кавычки, содержащая целые числа или числа с плавающей точкой, разделенные пробелами (значения по умолчанию нет). Каждое число - это величина, которая определяет расположение табуляций, в единицах ширины символа. Эти значения используются для вертикального выравнивания колонок текста в раскрывающемся списке.</P></Td>
</Tr>
</Table></Center><Br>



<Center>
<Table Border="1" CellPadding="2" CellSpacing="1">
 <Tr BgColor="#D1D6E9">
 <Td COLSPAN=2><P Class=tcb>Тип поля</P></Td>
</Tr>
<Tr >
 <Td COLSPAN=2 BGCOLOR="#F1F6FF"><P Class="tl"><B>Кнопка выбора - radio_button:</B> Одна или группа кнопок, объединенных в колонку или ряд выбора. Кнопки выбора функционально эквивалентны кнопкам радиопанелей: можно выбрать одну кнопку, и, пока она будет в нажатом состоянии, любая другая кнопка в колонке (ряду) будет отключена. Справа от кнопки выбора может появиться необязательная метка (label). Кнопки выбора появляются только в колонках или рядах выбора. Если кнопка выбора размещена вне колонки или ряда выбора, сообщается об ошибке.</P></Td>
</Tr>
<Tr>
 <Td COLSPAN=2 BGCOLOR="#D1D6E9"><P Class=tcb>Атрибуты</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>Label:</P></Td>
 <Td><P Class=tl>Это текст, выводимый слева от клавиши выбора. Значение - строка, заключенная в кавычки (значения по умолчанию нет).</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>Value:</P></Td>
 <Td><P Class=tl>Заключенная в кавычки строка (значения по умолчанию нет). Если значение атрибута единица, кнопка выбора включена; если нулю - кнопка выбора отключена; все другие значения аналогичны нулю.<Br>
Если по каким-то причинам несколько кнопок имеют атрибут value, равный единице, будет включена только последняя из них. (Эта ситуация может иметь место только в пользовательских DCL-файлах. Как только диалоговое окно появилось на экране, средства PDB управляют кнопками выбора и добиваются, чтобы могла быть включена только одна кнопка в группе одновременно.)</P></Td>
</Tr>
</Table></Center><Br>



<Center>
<Table Border="1" CellPadding="2" CellSpacing="1">
 <Tr BgColor="#D1D6E9">
 <Td COLSPAN=2><P Class=tcb>Тип поля</P></Td>
</Tr>
<Tr >
 <Td COLSPAN=2 BGCOLOR="#F1F6FF"><P Class="tl"><B>Скользящая шкала - slider:</B> Подразумевает получение численного значения. Пользователь может перемещать визир скользящей шкалы влево или вправо (или вверх и вниз) для получения величины, назначение которой зависит от приложения. Эта величина возвращается как строка, содержащая целое число определенной точности со знаком. В приложении это значение можно масштабировать.</P></Td>
</Tr>
<Tr>
 <Td COLSPAN=2 BGCOLOR="#D1D6E9"><P Class=tcb>Атрибуты</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>Min_value и Max_value</P></Td>
 <Td><P Class=tl>Значение - целые числа, определяющие диапазон возвращаемых скользящей шкалой значений. Минимальное значение по умолчанию, min_value - 0. Максимальное значение по умолчанию max_value - 10000. Диапазон должен быть определен знаковым 16-битовым целым, т. е. от -32768 до 32767.<Br>
Значение атрибута min_value может быть больше, чем значение max_value. На некоторых платформах это изменяет как последовательность появления на экране этих значений, так и последовательность их возврата скользящей шкалой во время перемещения визира.</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>SmaII_increment и big_increment</P></Td>
 <Td><P Class=tl>Значение - целые числа, определяющие значения, используемые при управлении приращением значения скользящей шкалы. Значение, по умолчанию для атрибута big_increment - одна десятая полного диапазона, значение по умолчанию для small_increment - сотая от полного диапазона. Значения должны быть в диапазоне, определяемом атрибутами min_value и max__value. Эти атрибуты не обязательны.</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>Layout:</P></Td>
 <Td><P Class=tl>Скользящая шкала может быть ориентирована горизонтально или вертикально (по умолчанию - горизонтально). Для горизонтальных шкал значение увеличивается слева направо, для вертикальных - снизу вверх.</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>Value:</P></Td>
 <Td><P Class=tl>Значение - строка, заключенная в кавычки и содержащая текущее (целое) значение скользящей шкалы (по умолчанию - min_value).</P></Td>
</Tr>
</Table></Center><Br>



<Center>
<Table Border="1" CellPadding="2" CellSpacing="1">
 <Tr BgColor="#D1D6E9">
 <Td COLSPAN=2><P Class=tcb>Тип поля</P></Td>
</Tr>
<Tr >
 <Td COLSPAN=2 BGCOLOR="#F1F6FF"><P Class="tl"><B>Переключатель - toggle</B> Переключатель оперирует двоичными величинами ("О" или "1"). Он изображается небольшим прямоугольником с необязательной меткой (label) справа. Метка Х появляется или исчезает в прямоугольнике при указании переключателя. Переключатель позволяет пользователю видеть и изменять его состояние "включен_выключен".</P></Td>
</Tr>
<Tr>
 <Td COLSPAN=2 BGCOLOR="#D1D6E9"><P Class=tcb>Атрибуты</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>Label:</P></Td>
 <Td><P Class=tl>Текст, выводимый слева от кнопки переключателя. Значение - строка, заключенная в кавычки.</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>Value:</P></Td>
 <Td><P Class=tl>Определяет первоначальное состояние переключателя. Значение - строка, заключенная в кавычки и содержащая целое число (по умолчанию - нуль). Если значение равно нулю, кнопка переключателя пуста (не помечена). Если значение равно единице, кнопка выводится с меткой X.</P></Td>
</Tr>
</Table></Center><Br>


<A name="tit2"></A>
<P Class=h3>Предварительно определенные активные группы полей</P>

<P>Поля можно группировать в объединенные ряды или колонки. Сгруппированные ряды и колонки при формировании общего диалогового окна рассматриваются как единое поле и могут быть заключены в рамку и иметь необязательную метку (группа без рамки не может иметь метки). Однако при выборе группа не может иметь присвоенное ей действие (кроме ряда или колонки выбора) и представляет собой просто удобный способ раскладки полей в диалоговом окне. Ряд или колонку можно определить для внешнего использования как элемент диалогового окна. Группы, используемые подобным образом, называются объединениями, так как они могут содержать другие поля (детей). Нельзя изменять атрибуты объединения, если оно используется как ссылка в диалоговом окне. В файле base.dcl определено несколько стандартных объединений.</P>


<Center>
<Table Border="1" CellPadding="2" CellSpacing="1">
 <Tr BgColor="#D1D6E9">
 <Td COLSPAN=2><P Class=tcb>Тип поля</P></Td>
</Tr>
<Tr >
 <Td COLSPAN=2 BGCOLOR="#F1F6FF"><P Class="tl"><B>Колонка - column:</B> Колонка или любой вид поля (кроме кнопки выбора), включая ряды и другие колонки. Все элементы колонки располагаются вертикально в порядке расположения в DCL-файле.</P></Td>
</Tr>
<Tr>
 <Td COLSPAN=2 BGCOLOR="#D1D6E9"><P Class=tcb>Атрибуты</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td COLSPAN=2><P Class=tl>Колонка без рамки не имеет дополнительных атрибутов, кроме стандартных атрибутов компоновки.</P></Td>
</Tr>
</Table></Center><Br>



<Center>
<Table Border="1" CellPadding="2" CellSpacing="1">
 <Tr BgColor="#D1D6E9">
 <Td COLSPAN=2><P Class=tcb>Тип поля</P></Td>
</Tr>
<Tr >
 <Td COLSPAN=2 BGCOLOR="#F1F6FF"><P Class="tl"><B>Колонка в рамке - boxed_column:</B> Колонка, имеющая нарисованную вокруг нее рамку (границу). Диалоговое окно расположено, как и колонка, в рамке. Если у колонки в рамке имеется метка, она может появиться выше рамки или быть встроенной в нее. Если метка отсутствует или является пробелом (" "), или пусто (""), изображается только рамка.</P></Td>
</Tr>
<Tr>
 <Td COLSPAN=2 BGCOLOR="#D1D6E9"><P Class=tcb>Атрибуты</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>Label:</P></Td>
 <Td><P Class=tl>Значение - строка, заключенная в кавычки (по умолчанию " "). Атрибут label выводится как поле в верхнем левом углу колонки, заключенной в рамку.</P></Td>
</Tr>
</Table></Center><Br>



<Center>
<Table Border="1" CellPadding="2" CellSpacing="1">
 <Tr BgColor="#D1D6E9">
 <Td COLSPAN=2><P Class=tcb>Тип поля</P></Td>
</Tr>
<Tr >
 <Td COLSPAN=2 BGCOLOR="#F1F6FF"><P Class="tl"><B>Ряд - row:</B> Аналогичен колонке, но его поля расположены горизонтально в порядке расположения в DCL-файле.</P></Td>
</Tr>
<Tr>
 <Td COLSPAN=2 BGCOLOR="#D1D6E9"><P Class=tcb>Атрибуты</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td COLSPAN=2><P Class=tl>Ряд без рамки не имеет дополнительных атрибутов, кроме стандартных атрибутов компоновки.</P></Td>
</Tr>
</Table></Center><Br>



<Center>
<Table Border="1" CellPadding="2" CellSpacing="1">
 <Tr BgColor="#D1D6E9">
 <Td COLSPAN=2><P Class=tcb>Тип поля</P></Td>
</Tr>
<Tr >
 <Td COLSPAN=2 BGCOLOR="#F1F6FF"><P Class="tl"><B>Ряд в рамке - boxed_row</B> Ряд, имеющий нарисованную вокруг него рамку (границу). Если у ряда в рамке имеется метка, она может появиться выше рамки или быть встроенной в нее. Если метка отсутствует или является пробелом (" ") или пусто (""), изображается только рамка.</P></Td>
</Tr>
<Tr>
 <Td COLSPAN=2 BGCOLOR="#D1D6E9"><P Class=tcb>Атрибуты</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>Label:</P></Td>
 <Td><P Class=tl>Значение - строка, заключенная в кавычки (по умолчанию " "). Атрибут label выводится как поле в верхнем левом углу ряда, заключенного в рамку.</P></Td>
</Tr>
</Table></Center><Br>



<Center>
<Table Border="1" CellPadding="2" CellSpacing="1">
 <Tr BgColor="#D1D6E9">
 <Td COLSPAN=2><P Class=tcb>Тип поля</P></Td>
</Tr>
<Tr >
 <Td COLSPAN=2 BGCOLOR="#F1F6FF"><P Class="tl"><B>Колонка выбора - radio_column</B> Колонка, содержащая поля кнопок выбора. За один раз можно выбрать только одну из кнопок. Это фиксированный набор взаимоисключающих альтернатив. В отличие от обычных колонок колонкам выбора можно присвоить действие.</P></Td>
</Tr>
<Tr>
 <Td COLSPAN=2 BGCOLOR="#D1D6E9"><P Class=tcb>Атрибуты</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>Value:</P></Td>
 <Td><P Class=tl>Значение - строка, заключенная в кавычки, содержащая значение ключа (key) выбранной текущей кнопки выбора.</P></Td>
</Tr>
</Table></Center><Br>



<Center>
<Table Border="1" CellPadding="2" CellSpacing="1">
 <Tr BgColor="#D1D6E9">
 <Td COLSPAN=2><P Class=tcb>Тип поля</P></Td>
</Tr>
<Tr >
 <Td COLSPAN=2 BGCOLOR="#F1F6FF"><P Class="tl"><B>Колонка выбора в рамке - boxed_radio_column</B> Колонка выбора, имеющая нарисованную вокруг нее рамку (границу). Метка трактуется аналогично метке колонки в рамке.</P></Td>
</Tr>
<Tr>
 <Td COLSPAN=2 BGCOLOR="#D1D6E9"><P Class=tl>Атрибуты</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>Label:</P></Td>
 <Td><P Class=tl>Значение - строка, заключенная в кавычки (по умолчанию " "). Атрибут label выводится как поле в верхнем левом углу колонки, заключенной в рамку.</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>Value:</P></Td>
 <Td><P Class=tl>Значение - строка, заключенная в кавычки, содержащая значение ключа (key) выбранной текущей кнопки выбора.</P></Td>
</Tr>
</Table></Center><Br>



<Center>
<Table Border="1" CellPadding="2" CellSpacing="1">
 <Tr BgColor="#D1D6E9">
 <Td COLSPAN=2><P Class=tcb>Тип поля</P></Td>
</Tr>
<Tr >
 <Td COLSPAN=2 BGCOLOR="#F1F6FF"><P Class="tl"><B>Ряд выбора - radio_row</B> Аналогичен ряду выбора и содержит поля кнопок выбора, но при этом за один раз можно выбрать только одну кнопку. Ряду выбора можно присвоить действие.</P></Td>
</Tr>
<Tr>
 <Td COLSPAN=2 BGCOLOR="#D1D6E9"><P Class=tcb>Атрибуты</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>Value:</P></Td>
 <Td><P Class=tl>Значение - строка, заключенная в кавычки, содержащая значение ключа (key) выбранной текущей кнопки выбора.</P></Td>
</Tr>
</Table></Center><Br>



<Center>
<Table Border="1" CellPadding="2" CellSpacing="1">
 <Tr BgColor="#D1D6E9">
 <Td COLSPAN=2><P Class=tcb>Тип поля</P></Td>
</Tr>
<Tr >
 <Td COLSPAN=2 BGCOLOR="#F1F6FF"><P Class="tl"><B>Ряд выбора в рамке - boxed_radio_row</B>Ряд выбора, заключенный в рамку (границу). Метка трактуется как и метка колонки в рамке.</P></Td>
</Tr>
<Tr>
 <Td COLSPAN=2 BGCOLOR="#D1D6E9"><P Class=tcb>Атрибуты</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>Label:</P></Td>
 <Td><P Class=tl>Значение - строка, заключенная в кавычки (по умолчанию " "). Атрибут label выводится как поле в верхнем левом углу ряда, заключенного в рамку.</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>Value:</P></Td>
 <Td><P Class=tl>Значение - строка, заключенная в кавычки, содержащая значение ключа (key) выбранной текущей кнопки выбора.</P></Td>
</Tr>
</Table></Center><Br>


<A name="tit3"></A>
<P Class=h3>Декоративные и информационные поля</P>


<Center>
<Table Border="1" CellPadding="2" CellSpacing="1">
 <Tr BgColor="#D1D6E9">
 <Td COLSPAN=2><P Class=tcb>Тип поля</P></Td>
</Tr>
<Tr >
 <Td COLSPAN=2 BGCOLOR="#F1F6FF"><P Class="tl"><B>Изображение - image</B> Прямоугольник, внутри которого отображается векторное изображение.</P></Td>
</Tr>
<Tr>
 <Td COLSPAN=2 BGCOLOR="#D1D6E9"><P Class=tcb>Атрибуты</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>Color:</P></Td>
 <Td><P Class=tl>Цвет фона рисунка, определенный как номер цвета AutoCAD или одно из символьных имен (по умолчанию - 7):<Br>
dialog_line - текущий цвет диалогового окна;<Br>
dialog_forground - текущий цвет символов диалогового окна (для текста);<Br>
dialog_background - текущий цвет фона диалогового окна;<Br>
graphic_background - текущий цвет фона графического экрана AutoCAD (обычно аналог 0);<Br>
black - цвет AutoCAD (черный) на черном фоне изображается как белый;<Br>
red - цвет AutoCAD 1 (красный);<Br>
yellow - цвет AutoCAD 2 (желтый);<Br>
green - цвет AutoCAD 3 (зеленый);<Br>
cyan - цвет AutoCAD 4 (голубой);<Br>
blue - цвет AutoCAD 5 (синий);<Br>
magenta - цвет AutoCAD 6 (фиолетовый);<Br>
white - цвет AutoCAD 7 (белый).<Br>
graphic_forground на белом фоне изображается как черный</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>Acpect_ratio:</P></Td>
 <Td><P Class=tl>Отношение ширины изображения к его высоте (ширина, деленная на высоту). Если значение равно нулю (0.0), то поле подгоняется под размеры изображения. Возможно значение с плавающей точкой (значения по умолчанию нет).<Br>
Полю изображения необходимо присвоить точные значения атрибутов width и height или один из этих атрибутов плюс значение acpect_ratio.</P></Td>
</Tr>
</Table></Center><Br>



<Center>
<Table Border="1" CellPadding="2" CellSpacing="1">
 <Tr BgColor="#D1D6E9">
 <Td COLSPAN=2><P Class=tcb>Тип поля</P></Td>
</Tr>
<Tr >
 <Td COLSPAN=2 BGCOLOR="#F1F6FF"><P Class="tl"><B>Надпись - text</B> Текстовая строка, используемая для вывода заголовка поля и диалогового окна или с информационной целью.</P></Td>
</Tr>
<Tr>
 <Td COLSPAN=2 BGCOLOR="#D1D6E9"><P Class=tcb>Атрибуты</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>Label:</P></Td>
 <Td><P Class=tl>Отображаемый на экране текст. Значение - строка, заключенная в кавычки (значения по умолчанию нет). При компоновке поля надписи его ширина больше значения атрибута width, определенного в DCL-файле, или ширины, определяемой атрибутом label, если он задан. Если ни один из них не задан, выдается сообщение об ошибке.</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>Value:</P></Td>
 <Td><P Class=tl>Как и label, определяет строку, выводимую в поле надписи, но не влияет на компоновку полей. Если сообщение является неизменяемым, следует определить атрибут label и не определять width и value. В противном случае определяется атрибут value и присвоить атрибуту width присваивается достаточно большое значение. После вывода диалогового окна на экран нельзя изменить размер его полей; если при выводе функции set_tile надписи присвоено более длинное значение, чем ширина окна, надпись будет усечена.</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>Is_bold:</P></Td>
 <Td><P Class=tl>Возможные значения: true или false (по умолчанию - false). Если true, надпись выводится полужирным шрифтом.</P></Td>
</Tr>
</Table></Center><Br>



<Center>
<Table Border="1" CellPadding="2" CellSpacing="1">
 <Tr BgColor="#D1D6E9">
 <Td COLSPAN=2><P Class=tcb>Тип поля</P></Td>
</Tr>
<Tr >
 <Td COLSPAN=2 BGCOLOR="#F1F6FF"><P Class="tl"><B>Разделитель - spaser</B> Пустое поле. Используется только в целях компоновки и влияет на размер и расположение смежных полей.</P></Td>
</Tr>
<Tr>
 <Td COLSPAN=2 BGCOLOR="#D1D6E9"><P Class=tcb>Атрибуты</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td COLSPAN=2><P Class=tl>Нет.</P></Td>
</Tr>
</Table></Center><Br>


<P>В этих таблицах показаны поля, используемые в диалоговых окнах вместе с их атрибутами. Атрибуты полей определяют их размещение и функциональность. Атрибут похож на переменную языка программирования. Он состоит из имени и значения. Значения атрибутов могут быть:</P>
<Ul>
 <Li>целыми - это численная величина (целая или вещественная), которая представляет собой размер в единицах ширины или высоты символов;</Li>
 <Li>вещественными - это численная величина, в которой наличие незначащего нуля в целой части обязательно;</Li>
 <Li>строковыми - это строка текста, заключенная в кавычки (" "). Если строка содержит символ кавычки, перед ним следует поставить обратную косую черту: \". Строка может содержать другие ESC-последовательности:
  <Ul>
   <Dt>\" - кавычку;</Dt>
   <Dt>\\ - обратную косую черту;</Dt>
   <Dt>\n - новую строку;</Dt>
   <Dt>\t - горизонтальную табуляцию;</Dt>
  </Ul>
 <Li>зарезервированными словами - это идентификатор, состоящий из текстовых символов и начинающийся с буквы (например, true или false - зарезервированные слова, требуемые во многих атрибутах). Зарезервированное слово чувствительно к регистру: True не равно true. Имена атрибутов также чувствительны к регистру.</Li>
</Ul>

<P>Приложения всегда получают атрибут в виде строки, поэтому, если приложением используются численные величины, они должны быть преобразованы из строкового представления.</P>
<P>Некоторые атрибуты едины для всех полей. Определение атрибутов необязательно; многие атрибуты имеют значения по умолчанию. Они используются при неопределенном атрибуте. Другие атрибуты специально предназначены для определенного типа полей (например, цвет фона изображения). Попытка присвоить такой атрибут другим полям приведет к сообщению об ошибке.</P>
<P>Можно определить собственные атрибуты с именами, не конфликтующими ни с одним из стандартных имен атрибутов. Имя атрибута, как и ключевое слово, может содержать буквы, цифры или символ подчеркивания (_). Первым символом должна быть буква.</P>
<P>Значения определенных пользователем атрибутов должны соответствовать типам атрибутов полей.</P>


<A name="tit4"></A>
<P Class=h3>Предопределенные атрибуты</P>

<P>Здесь описаны определенные PDB атрибуты в алфавитном порядке.</P>

<Center>
<Table Border="1" CellPadding="2" CellSpacing="1">
 <Tr BgColor="#D1D6E9">
 <Td Width="20%" BGCOLOR="#D1D6E9"><P Class=tcb>Имя атрибута</P></Td>
 <Td Width="40%" BGCOLOR="#D1D6E9"><P Class=tcb>Поля</P></Td>
 <Td Width="40%" BGCOLOR="#D1D6E9"><P Class=tcb>Назначение<Br>(если определено или true)</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>action</P></Td>
 <Td><P Class=tl>Все активные поля</P></Td>
 <Td><P Class=tl>Активное выражение AutoLISP</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>alignment</P></Td>
 <Td><P Class=tl>Все</P></Td>
 <Td><P Class=tl>Горизонтальное или вертикальное положение в группе</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>allow_accept</P></Td>
 <Td><P Class=tl>Текстовое поле, клавиша изображения и поле списка</P></Td>
 <Td><P Class=tl>Активизирует клавишу is_default, когда это поле выбрано</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>acpect_ratio</P></Td>
 <Td><P Class=tl>Изображение, клавиша изображения</P></Td>
 <Td><P Class=tl>Коэффициент коррекции изображения</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>big_increment</P></Td>
 <Td><P Class=tl>Скользящая шкала</P></Td>
 <Td><P Class=tl>Наибольший шаг перемещения</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>children_alignment</P></Td>
 <Td><P Class=tl>Ряд, колонка, ряд выбора, ряд в рамке, колонка в рамке, ряд выбора в рамке и колонка выбора в рамке</P></Td>
 <Td><P Class=tl>Выравнивание элемента, подчиненного группе</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>children_fixed_heigth</P></Td>
 <Td><P Class=tl>Ряд, колонка, ряд выбора, ряд в рамке, колонка в рамке, ряд выбора в рамке и колонка выбора в рамке</P></Td>
 <Td><P Class=tl>Высота элемента, подчиненного группе. Не растет при компоновке</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>children_fixed_width</P></Td>
 <Td><P Class=tl>Ряд, колонка, ряд выбора, ряд в рамке, колонка в рамке, ряд выбора в рамке и колонка выбора в рамке</P></Td>
 <Td><P Class=tl>Ширина элемента, подчиненного группе. Не растет при компоновке</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tlb>color</P></Td>
 <Td><P Class=tl>Изображение, клавиша изображения</P></Td>
 <Td><P Class=tl>Цвет фона изображения</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>edit_limit</P></Td>
 <Td><P Class=tl>Текстовое поле</P></Td>
 <Td><P Class=tl>Максимальное число символов, которое может ввести пользователь</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>edit_width</P></Td>
 <Td><P Class=tl>Текстовое поле, раскрывающийся список</P></Td>
 <Td><P Class=tl>Ширина редактируемой части поля</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>fixed_height</P></Td>
 <Td><P Class=tl>Все</P></Td>
 <Td><P Class=tl>Высота не растет при компоновке</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>fixed_width</P></Td>
 <Td><P Class=tl>Все</P></Td>
 <Td><P Class=tl>Ширина не растет при компоновке</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>height</P></Td>
 <Td><P Class=tl>Все</P></Td>
 <Td><P Class=tl>Высота поля</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>initial_focus</P></Td>
 <Td><P Class=tl>Элемент диалога</P></Td>
 <Td><P Class=tl>Ключ поля с первоначальной подсветкой</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>is_bold</P></Td>
 <Td><P Class=tl>Надпись</P></Td>
 <Td><P Class=tl>Выводится как полужирный текст</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tlb>is_cancel</P></Td>
 <Td><P Class=tj>Клавиша</P></Td>
 <Td><P Class=tj>Кнопка активизируется при нажатии комбинации клавиш Ctrl+C.</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>is_default</P></Td>
 <Td><P Class=tl>Клавиша</P></Td>
 <Td><P Class=tl>Кнопка активизируется при нажатии клавиши RETURN</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>is_enabled</P></Td>
 <Td><P Class=tl>Все активные поля</P></Td>
 <Td><P Class=tl>Поле является изначально доступным</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>is_tab_stop</P></Td>
 <Td><P Class=tl>Все активные поля</P></Td>
 <Td><P Class=tl>Поле может стать активным при нажатии клавиши табуляции</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>key</P></Td>
 <Td><P Class=tl>Все активные поля</P></Td>
 <Td><P Class=tl>Имя (ключ), используемое приложением</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>label</P></Td>
 <Td><P Class=tl>Ряд в рамке, колонка в рамке, ряд выбора в рамке, колонка выбора в рамке, клавиша, примитив диалога, текстовое поле, поле списка, раскрывающийся список, клавиша выбора, надпись и переключатель</P></Td>
 <Td><P Class=tl>Отображаемая метка поля</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>layout</P></Td>
 <Td><P Class=tl>Скользящая шкала</P></Td>
 <Td><P Class=tl>Скользящая шкала вертикальна или горизонтальна</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>list</P></Td>
 <Td><P Class=tl>Поле списка, раскрывающийся список</P></Td>
 <Td><P Class=tl>Начальные значения, отображаемые в списке</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>max_value</P></Td>
 <Td><P Class=tl>Скользящая шкала</P></Td>
 <Td><P Class=tl>Максимальное значение скользящей шкалы</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>min_value</P></Td>
 <Td><P Class=tl>Скользящая шкала</P></Td>
 <Td><P Class=tl>Минимальное значение скользящей шкалы</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>mnemonic</P></Td>
 <Td><P Class=tl>Все активные поля</P></Td>
 <Td><P Class=tl>Мнемонический символ для поля</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>multiple_select</P></Td>
 <Td><P Class=tl>Поле списка</P></Td>
 <Td><P Class=tl>Поле списка позволяет выбрать несколько пунктов</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>small_increment</P></Td>
 <Td><P Class=tl>Скользящая шкала</P></Td>
 <Td><P Class=tl>Малый шаг перемещения</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>labs</P></Td>
 <Td><P Class=tl>Поле списка, раскрывающийся список</P></Td>
 <Td><P Class=tl>Табуляция при отображении списка</P></Td>
</Tr>
<Tr Bgcolor=#DCDCDC>
 <Td><P Class=tl>value</P></Td>
 <Td><P Class=tl>Текст, активные поля, (за исключением клавиш и клавиш изображения)</P></Td>
 <Td><P Class=tl>Начальное значение поля</P></Td>
</Tr>
<Tr Bgcolor=#EAEAEA>
 <Td><P Class=tl>width</P></Td>
 <Td><P Class=tl>Все</P></Td>
 <Td><P Class=tl>Ширина поля</P></Td>
</Tr>
</Table></Center><Br>


<A name="tit5"></A>
<P Class=h3>Структура DCL-файла</P>

<P>Помимо диалоговых окон DCL-файлы могут определять прототипы или объединения, которые могут включать определения из других DCL-файлов. DCL-файл может состоять из следующих трех частей, которые могут располагаться в любом порядке (некоторые части могут отсутствовать):</P>
<Ul>
 <Li>ссылки на другие DCL-файлы. Содержат директивы по включению;</Li>
 <Li>определения прототипов полей, объединения в колонки и ряды. Это определения полей, на которые можно ссылаться;</Li>
 <Li>определения диалоговых окон.</Li>
</Ul>

<A name="tit6"></A>
<P Class=h3>Файлы base.dcl и асаd.dcl</P>

<P>В комплект поставки AutoCAD включены файлы base.dcl и acad.dcl. Они могут быть использованы в качестве примера при создании DCL-файлов.</P>
<P>Файл base.dcl содержит определения базовых, предварительно определенных полей, и типов полей. В нем также содержатся определения прототипов общего использования. Предварительно определенные поля не могут быть переопределены средствами PDB. He следует модифицировать этот файл! Ошибки в файле base.dcl будут прерывать появление как стандартных диалоговых окон AutoCAD, так и диалоговых окон приложений пользователя.</P>
<P>Файл acad.dcl содержит определения всех стандартных диалоговых окон, используемых стандартной версией AutoCAD. Можно отредактировать этот файл, если необходимо изменить появление стандартных диалоговых окон.</P>


<A name="tit7"></A>
<P Class=h3>Определенные пользователем DCL-файлы</P>

<P>Все определенные пользователем DCL-файлы могут автоматически ссылаться на поля, определенные в файле base.dcl. DCL-файл также может использовать поля, определенные в другом DCL-файле дополнительно к base.dcl, используя имя другого файла в директиве включения (include):

<Center><Img Src=images/lisp/lisp_dcl03.gif></Center>

<P>Здесь файлы usr1.dcl и usr2.dcl независимы друг от друга, а файл usr3.dcl использует поля, определенные в файле usr1.dcl.</P>
<P>Директива включения имеет форму</P>

<pre><code>@include имя_файла</code></pre>

<P>где имя_файла - строка, заключенная в кавычки и содержащая полное имя другого DCL-файла (с расширением dcl).</P>
<P>Создаваемый DCL-файл не может использовать диалоговые окна, определенные в файле acad.dcl. Нельзя использовать директиву @include "acad.dcl", хотя для создания подобных диалоговых окон можно вырезать часть из файла acad.dcl и вставить ее в создаваемый файл.</P>

<A name="tit8"></A>
<P Class=h3>Синтаксис языка DCL</P>

<P>Язык DCL используется для определения новых полей и объединения существующих полей в диалоговые окна. Новые окна создаются определениями полей. Если определение появляется вне диалогового окна, оно является прототипом (определением поля) или объединением (группой с подчиненными элементами), которое можно использовать в диалоговых окнах для ссылок. Каждая ссылка на определение наследует атрибуты исходного поля. Если ссылка дается на прототип, можно изменять значения наследуемых атрибутов или добавлять новые атрибуты; в случае ссылок на объединения атрибуты не могут быть изменены или добавлены.</P>
<P>Если используется несколько экземпляров полей с несколькими общими атрибутами, проще определить прототип, который содержит общие атрибуты. Тогда в каждой ссылке на прототип можно изменять или добавлять новые атрибуты. Вы избавляетесь от необходимости перечислять список всех общих атрибутов при каждой ссылке на поле.</P>
<P>Так как атрибуты наследуются именно таким образом, то при создании диалогового окна проще создать ссылки на поля (особенно ссылки на предварительно определенные поля), чем создавать новые поля.</P>


<A name="tit9"></A>
<P Class=h3>Определение поля</P>

<P>Форма определения поля</P>

<pre><code> name : item1 [:item2 : item3 ....]{
 attribute = value;
 }</code></pre>

<P>где item - предварительно определенное поле; name - новое поле, которое наследует атрибуты всех определенных полей item; {} - определения атрибутов (добавляют или, если имена атрибутов идентичны, замещают наследуемые определения). Если определение имеет множество родителей, атрибуты имеют приоритет в порядке слева направо. Если более чем одно предварительно определенное поле item определяет один и тот же атрибут, используется первое из них.</P>
<P>Если новое определение не содержит подчиненных элементов, оно является прототипом и ссылки на него могут изменять или дополнять его атрибуты. Если оно является группой (рядом или колонкой) с подчиненными пунктами или вложенными полями, оно является субобъединением.</P>
<P>Имя name поля или прототипа может содержать только буквы, числа или символ подчеркивания (_) и должно начинаться с буквы.</P>

<P Class=h55>Примеры:</P>
<P>Внутреннее определение клавиши</P>

<pre><code> button : tile {
 fixed_heigth = true;
 is_tab_stop = true;
		}</code></pre>

<P>Файл base.dcl определяет клавишу по умолчанию default_button:</P>
<pre><code> default_button : button {
 is default = true;
		}</code></pre>

<P>Поле default_button наследует значения атрибутов fixed_heigth и is_tab_stop поля button. Файл добавляет новый атрибут is_default и присваивает ему значение true.</P>


<A name="tit10"></A>
<P Class=h3>Ссылки на поля</P>

<P>Форма ссылки на поле</P>

<pre><code> Name;
  или
 : name {
 attribute = value;
 }</code></pre>

<P>В обоих случаях name - имя предварительно определенного поля. В первом случае все атрибуты, определенные в name, объединены в ссылке. Во втором случае определения атрибутов внутри фигурных скобок добавляют или замещают определения, наследуемые из name. Так как это ссылка на поле, а не на определение, изменения атрибутов относятся только к этому образцу поля. Вторая форма может ссылаться только на прототипы, а не на объединения (группы с подчиненными элементами).</P>


<A name="tit11"></A>
<P Class=h3>Атрибуты и значения атрибутов</P>

<P>Внутри фигурных скобок определения поля или ссылки можно определить атрибуты и присвоить им значения, используя форму</P>

<pre><code> attribute = value;</code></pre>

<P>где attribute - ключевое слово; value - значение, присвоенное атрибуту; = - знак присваивания, ;&nbsp;- завершение присваивания.</P>


<A name="tit12"></A>
<P Class=h3>Комментарии</P>

<P>Комментариям в DCL-файлах предшествуют две обратные косые черты - //. Все, что появляется между // и концом строки, игнорируется. DCL также позволяет использовать комментарии, принятые в языке С. Они имеют форму /*, текст комментария - */. Начальные (/*) и конечные (*/) символы могут находиться на разных строках.</P>


<A name="tit13"></A>
<P Class=h3>Обработка ошибок в DCL</P>

<P>Средства PDB проверяют DCL-файл сразу же после его загрузки. Если при этом обнаруживается синтаксическая ошибка, неправильное использование атрибутов или другая ошибка (например, ошибка определения атрибута key для активного поля), DCL-файл не загружается и в файл acad.dce выводится список ошибок. Если DCL-файл прочитан успешно, AutoCAD удаляет файл acad.dce.</P>




<Hr Width="90%" Color="#7685C6" Align="Right">
<Br>

</Td></Tr></Table>
</Center>

 </Td>
</Tr>
</Table>
<Tr>
 <Td ColSpan=2>

<Table Border=0 CellSpacing=0 CellPadding=0>
 <Tr>
  <Td BackGround=../../../оболочка/images/b1.gif Width=458 Height=100 Valign=Bottom>
   <P Class=co>Copyright &copy; БГУИР, Кафедра Систем управления, 2015<Br>
   <Img Src=../../../оболочка/images/raspor.gif Width=1 Height=8></P></Td>
  <Td BackGround=../../../оболочка/images/b2.gif Width=159 Height=100>
   <A Href=#Top onMouseOver="mOver(4)" onMouseOut="mOut(4)">
<Img Src=../../../оболочка/images/09a.gif Width=159 Height=46 Border=0 Alt="К началу документа" name="link4"></A><Br>
   <A Href=../../../index.html onMouseOver="mOver(5)" onMouseOut="mOut(5)">
<Img Src=../../../оболочка/images/10a.gif Width=159 Height=54 Border=0 Alt="К первой странице" name="link5"></A></Td>
 </Tr>
</Table>

 </Td>
</Tr>

</Body>
</HTML>