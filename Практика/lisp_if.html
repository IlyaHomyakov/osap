<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>

<Head>
<Meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<Title>Электронный ресурс по учебной дисциплине ОСАПр. Условное ветвление программ</Title>
<Meta Name="Description" http-equiv="description" Content="Электронный ресурс по учебной дисциплине ОСАПр. Условное ветвление программ">
<Link Rel="stylesheet" Type="text/css" Href="../../../Оболочка/acad.css">

<Script>hljs.initHighlightingOnLoad();</Script>

<Script Language="JavaScript">
<!--
	function mOver(num) {if (document.images) {document.images['link'+num].src=eval('active'+num+'.src');}}
	function mOut(num) {if (document.images) {document.images['link'+num].src=eval('normal'+num+'.src');}}
//-->
</Script>
</Head>

<Body Bgcolor=#E6E6E6 TopMargin=1 LeftMargin=1 MarginWidth=0 MarginHeight=0 >
<div class=max>
<Script Language="JavaScript"><!--
if (document.images) {
	normal1=new Image(190,29);normal1.src="../../../Оболочка/images//01a.gif";
	active1=new Image(190,29);active1.src="../../../Оболочка/images//01p.gif";
	normal2=new Image(190,29);normal2.src="../../../Оболочка/images/02a.gif";
	active2=new Image(190,29);active2.src="../../../Оболочка/images/02p.gif";
	normal3=new Image(190,29);normal3.src="../../../Оболочка/images//03a.gif";
	active3=new Image(190,29);active3.src="../../../Оболочка/images//03p.gif";
	normal4=new Image(159,46);normal4.src="../../../Оболочка/images//09a.gif";
	active4=new Image(159,46);active4.src="../../../Оболочка/images//09p.gif";
	normal5=new Image(159,54);normal5.src="../../../Оболочка/images//10a.gif";
	active5=new Image(159,54);active5.src="../../../Оболочка/images//10p.gif";
	normal7=new Image(190,29);normal7.src="../../../Оболочка/images//7a.gif";
	active7=new Image(190,29);active7.src="../../../Оболочка/images//7p.gif";
	normal11=new Image(170,25);normal11.src="../../../Оболочка/images//02_1a.gif";
	active11=new Image(170,25);active11.src="../../../Оболочка/images//02_1p.gif";
	normal12=new Image(170,19);normal12.src="../../../Оболочка/images//02_2a.gif";
	active12=new Image(170,19);active12.src="../../../Оболочка/images//02_2p.gif";
	normal13=new Image(170,19);normal13.src="../../../Оболочка/images//02_3a.gif";
	active13=new Image(170,19);active13.src="../../../Оболочка/images//02_3p.gif";
	normal24=new Image(170,19);normal24.src="../../../Оболочка/images//04a.gif";
	active24=new Image(170,19);active24.src="../../../Оболочка/images//04p.gif";
	normal25=new Image(170,19);normal25.src="../../../Оболочка/images//05a.gif";
	active25=new Image(170,19);active25.src="../../../Оболочка/images//05p.gif";
	normal26=new Image(170,19);normal26.src="../../../Оболочка/images//06a.gif";
	active26=new Image(170,19);active26.src="../../../Оболочка/images//06p.gif";
	normal14=new Image(170,19);normal14.src="../../../Оболочка/images//l1_a.gif";
	active14=new Image(170,19);active14.src="../../../Оболочка/images//l1_p.gif";
	normal15=new Image(170,19);normal15.src="../../../Оболочка/images//z_a.gif";
	active15=new Image(170,19);active15.src="../../../Оболочка/images//z_p.gif";
	normal16=new Image(170,19);normal16.src="../../../Оболочка/images//l2_a.gif";
	active16=new Image(170,19);active16.src="../../../Оболочка/images//l2_p.gif";
	normal17=new Image(170,19);normal17.src="../../../Оболочка/images//z_a.gif";
	active17=new Image(170,19);active17.src="../../../Оболочка/images//z_p.gif";
	normal18=new Image(170,19);normal18.src="../../../Оболочка/images//l3_a.gif";
	active18=new Image(170,19);active18.src="../../../Оболочка/images//l3_p.gif";
	normal19=new Image(170,19);normal19.src="../../../Оболочка/images//z_a.gif";
	active19=new Image(170,19);active19.src="../../../Оболочка/images//z_p.gif";
	normal20=new Image(170,19);normal20.src="../../../Оболочка/images//l4_a.gif";
	active20=new Image(170,19);active20.src="../../../Оболочка/images//l4_p.gif";
	normal21=new Image(170,19);normal21.src="../../../Оболочка/images//z_a.gif";
	active21=new Image(170,19);active21.src="../../../Оболочка/images//z_p.gif";
	normal27=new Image(170,19);normal27.src="../../../Оболочка/images/15a.gif";
	active27=new Image(170,19);active27.src="../../../Оболочка/images/15p.gif";
}
//-->
</Script>

<Left>
<A Name="Top"></A>
<Table Border=0 Width=100% CellSpacing=0 CellPadding=0>
<Tr>
 <Td BackGround=../../../Оболочка/images/bg01.gif Width=190 Height=91 name="link19">&nbsp;</Td>
 <Td Rowspan=2 BackGround=../../../Оболочка/images/bg02_acad.gif Height=120 Valign=Bottom style="background-repeat:no-repeat;">

<Table BackGround=../../../Оболочка/images/raspor.gif Border=0 CellSpacing=0 CellPadding=0>
 <Tr>
  <Td Width=230></Td>
  <Td><P Class=h6>AutoLISP<Br><Img Src=../../../Оболочка/images/raspor.gif Width=1 Height=26></P></Td>
 </Tr>
</Table>

</Td></Tr>
<Tr>
 


<Td BackGround=../../../Оболочка/images/bg03.gif>
 <A Href=../../../Программа/!rabprog.html onMouseOver="mOver(26)" onMouseOut="mOut(26)"><Img Src=../../../Оболочка/images/06a.gif Width=190 Height=29 Border=0 
Alt="Рабочая программа" name="link26"></A><Br></Td>

</Tr>
<Tr>
 <Td BackGround=../../../Оболочка/images/bg09.gif Valign=Top>

<Table Border=0 CellSpacing=0 CellPadding=0>
<Tr><Td BackGround=../../../оболочка/images/bg03.gif Valign=Top>
	<A Href=../../../Теория/!lekcii.html onMouseOver="mOver(7)" onMouseOut="mOut(7)"><Img Src=../../../оболочка/images/7a.gif Width=190 Height=29 Border=0 
Alt="Лекции" name="link7"></A><Br>
 </Td>
 <Tr><Td BackGround=../../../оболочка/images/bg04.gif Width=190 Valign=Top>
 <a href="../../!zadanie.html"> <Img Src=../../../оболочка/images/8p.gif Border=0 Width=190 Height=29 Alt="Лабораторные работы"></a><Br></Td>
<Tr><Td BackGround=../../../оболочка/images/bg05_1.gif Width=190 Valign=Top>
  <A href="../lb1/!acad.html" onMouseOver="mOver(14)" onMouseOut="mOut(14)"><Img Src=../../../оболочка/images/l1_a.gif Width=170 Height=40 Border=0 Alt="Лабораторная работа 1" name="link14"></A><Br></Td></Tr>
<Tr><Td BackGround=../../../оболочка/images/bg06.gif Width=190 Height=36 Valign=Top>
   <A href="../lb1/laba1.html"  onMouseOver="mOver(15)" onMouseOut="mOut(15)"><Img Src=../../../Оболочка/images/z_a.gif Width=170 Height=20 Border=0 Alt="Задания 1" name="link15"></A><Br>
  <A href="../lb2/!mechanic.html" onMouseOver="mOver(18)" onMouseOut="mOut(18)"><Img Src=../../../Оболочка/images/l3_a.gif Width=170 Height=40 Border=0 Alt="Лабораторная работа 2" name="link18"></A><Br>
<A  href="../lb2/laba2.html" onMouseOver="mOver(19)" onMouseOut="mOut(19)"><Img Src=../../../Оболочка/images/z_a.gif Width=170 Height=20 Border=0 Alt="Задания 2" name="link19"></A><Br>
  <A href="../lb2/!mechanic.html" onMouseOver="mOver(20)" onMouseOut="mOut(20)"><Img Src=../../../Оболочка/images/l4_a.gif Width=170 Height=40 Border=0 Alt="Лабораторная работа 3" name="link20"></A><Br>
<A href="../lb3/laba3.html"1 onMouseOver="mOver(21)" onMouseOut="mOut(21)"><Img Src=../../../Оболочка/images/z_a.gif Width=170 Height=20 Border=0 Alt="Задания 3" name="link21"></A><Br>
 <A href="../lb4/!lisp.html" onMouseOver="mOver(16)" onMouseOut="mOut(16)"><Img Src=../../../Оболочка/images/l2_a.gif Width=170 Height=40 Border=0 Alt="Лабораторная работа 4" name="link16"></A><Br>
<A  href="../lb4/laba4.html" onMouseOver="mOver(17)" onMouseOut="mOut(17)"><Img Src=../../../Оболочка/images/z_a.gif Width=170 Height=20 Border=0 Alt="Задания 4" name="link17"></A><Br>
  <Img Src=../../../Оболочка/images/bg07.gif Width=190 Height=23><Br></Td></Tr>
 
 <Tr><Td BackGround=../../../оболочка/images/bg03.gif Valign=Top>
   <A Href=../../../Заочнику/!zaochnoe.html onMouseOver="mOver(27)" onMouseOut="mOut(27)"><Img Src=../../../Оболочка/images/15a.gif Width=190 Height=29 Border=0  Alt="Заочнику" name="link27"></A><Br>
  <A Href=../../../Контроль_знаний/!samocontrol.html onMouseOver="mOver(25)" onMouseOut="mOut(25)"><Img Src=../../../оболочка/images/05a.gif Width=190 Height=29 Border=0 
Alt="Самоконтроль" name="link25"></A><Br>
	 <Img Src=../../../оболочка/images/bg08.gif Width=190 Height=13><Br>
</Table></Td>
 <Td Valign=Top>
<P><Br></P>

<Center>
<Table Border=0 CellPadding=0 CellSpacing=0 Width=95%><Tr><Td>

<Br>
<Table Border=0 CellPadding=0 CellSpacing=0>
<Tr><Td Bgcolor=#000000><Img Src=../../../оболочка/images/raspor.gif Height=2></Td>
<Tr><Td Valign=Center Height=30><span Class=h1>Условное ветвление программ</span></Td></Tr>
<Tr><Td Bgcolor=#000000><Img Src=../../../оболочка/images/raspor.gif Height=2></Td></Tr>
</Table></Center><Br>


<P>Каждая программа имеет свою логическую структуру. Ветвление&nbsp;- это способ управления ходом выполнения программы. Условные операторы&nbsp;- это
средство управления ветвлением программ. AutoLISP имеет две функции ветвления, if и COND. Условное ветвление подразумевает проверку какого-то условия, по
результатам которой осуществляется переход. Условия содержатся в условных выражениях, использующих операторы отношения и логические операторы. Условные
выражения могут содержать любые выражения AutoLISP.</P>
<pre><code> (if c f1 [f2])</code></pre>

<p>Здесь<Br>
с - условие (простое или сложное);<Br>
f1 - функция, выполняемая, если условие истинно (выражение-тогда),<Br>
f2 - функция, выполняемая, когда условие ложно (выражение-иначе).</P>

<P>Эта функция использует выражение по условию. Если условие не nil, то исполняется выражение-тогда, в противном случае - выражение-иначе. Последнее
выражение не обязательно. Возвращает значение выполненного по условию выражения; если выражение-иначе отсутствует и тест-выражение - nil, то if
возвращает nil.</P>

<P>Пример:</p>

<pre><code> (if ( < a 0 ) 
  ( prompt "\nПеременная a меньше нуля" )
  ( prompt "\n"Переменная a больше или рана нулю" ))</code></pre>

<P>А как быть, если нужно в случае выполнения (или невыполнения) условия выполнить не одну, а сразу несколько функций? Ведь синтаксис функции if
разрешает записать только одну. Проблема решается так же, как в языке Паскаль: там используются операторные скобки begin..end, а в Лиспе - функция
(progn f1 f2 .. fn). Она всего лишь объединяет функции f1 f2 .. fn в один блок, который можно подставить в функцию if. </p>
<P>Например, мы решаем квадратное уравнение и в переменную d записали дискриминант. Теперь нужно посчитать действительные корни и вывести их на экран:</P>

<pre><code> (if ( >= d 0 )
   ( progn
     ( setq x1 ( / ( + ( * b -1 ) ( sqrt d ) )
     ( * 2 a ) )
     ( setq x2 ( / ( - ( * b -1 ) ( sqrt d ) )
     ( * 2 a ) )
     ( prompt "\nX1=" )
     ( print x1 )
     ( prompt "\nX2=" )
     ( print x2 )
     ); конец progn
   ( prompt "\nДействительных корней нет" ); "иначе"
 )</code></pre>

<P>Иногда требуется по условию выполнить не одно, а несколько выражений, в то время как функция if не позволяет этого. В этом случае используют функцию
PROGN, которая последовательно вычисляет каждое выражение и возвращает значение последнего: (progn выражение1 выражение2 ...). Например:</P>


<pre><code> (if (= a b)
  (progn
   (setq a (+ а 10))
   (setq b (- b 10))
  )
 )</code></pre>
<pre><code>(cond (тест1 результат1 ...)...) </code></pre>

<P>Воспринимает в качестве аргументов любое число списков. Она оценивает по очереди первые элементы списков до тех пор, пока не встретится элемент,
отличный от nil. Затем вычисляется то выражение, которое следует за тестом, и возвращается значение последнего выражения в субсписке. Если в субсписке
только одно выражение (например, результат отсутствует), то возвращается значение выражения тест. COND - основная функция условия в AutoLISP. Как видно
из следующего примера, в котором функция COND возвращает нуль или единицу в зависимости от введенной пользователем строковой переменной s, эта функция
может использоваться в качестве условного оператора переключения ("case" во многих языках программирования):</P>
<pre><code> (cond
  ((= s "Y") 1)
  ((= s "y") 1)
  ((= s "Д") 1)
  ((= s "д") 1)
  ((= s "N") 0)
  ((= s "n") 0)
  ((= s "Н") 0)
  ((= s "н") 0) </code></pre>

<P>Продолжая рассматривать параллели с Паскалем, обратимся к функции cond, обеспечивающей множественное ветвление аналогично паскалевскому оператору CASE. Ее общий вид:</P>
<pre><code> ( cond 
 ( c1 f11 f12 ... f1n1 )
 ( c2 f21 f22 ... f2n1 )
 ...
 ( cm fm1 fm2 ... fmnm )
 )</code></pre>

<Table Border=0 CellPadding=0 CellSpacing=0 Width=95%>
<Tr><Td><Img Src=../../../оболочка/images/raspor.gif Height=1></Td><Td Bgcolor=#FF0000><Img Src=../../../оболочка/images/raspor.gif Height=1></Td></Tr>
<Tr><Td><Img Src=../../../оболочка/images/raspor.gif Height=1></Td><Td Bgcolor=#800000><Img Src=../../../оболочка/images/raspor.gif Height=1></Td></Tr>
<Tr><Td><Img Src=../../../оболочка/images/raspor.gif Height=1></Td><Td Bgcolor=#FF0000><Img Src=../../../оболочка/images/raspor.gif Height=1></Td></Tr>
<p>Здесь с1 ..cm - логические условия, fnm - функции, выполняемые при выполнении того или иного условия.</p>
<Tr><Td Valign=ToP><P Class=pr>Замечание:&nbsp;&nbsp;</P></Td>
<Td Valign=Center><P Class=prt>Условия проверяются последовательно до первого истинного. Если истинно сразу несколько условий, то выполняются только функции, относящиеся к первому из них, а остальные условия даже не проверяются.</P></Td></Tr>

<Tr><Td><Img Src=../../../оболочка/images/raspor.gif Height=1></Td><Td Bgcolor=#FF0000><Img Src=../../../оболочка/images/raspor.gif Height=1></Td></Tr>
<Tr><Td><Img Src=../../../оболочка/images/raspor.gif Height=1></Td><Td Bgcolor=#800000><Img Src=../../../оболочка/images/raspor.gif Height=1></Td></Tr>
<Tr><Td><Img Src=../../../оболочка/images/raspor.gif Height=1></Td><Td Bgcolor=#FF0000><Img Src=../../../оболочка/images/raspor.gif Height=1></Td></Tr></Table>

<P>Основное назначение функции cond - обработка ввода пользователя, например, так:</P>
<pre><code> ( setq a ( getint "\n1 - фаска, 2 - галтель, 3 - выточка" ) )
 ( cond
  ( ( = a 1 ) .... ); фаска
  ( ( = a 2 ) .... ); галтель
  ( ( = a 3 ) .... ); выточка
 )</code></pre>

<p>А вот пример неправильного применения  функции cond. Пусть мы хотим присвоить переменной flag значение nil, если хотя бы одна из сторон треугольника a, b, c оказалась отрицательной. Неопытному программисту вместо очевидного</p>
<pre><code> ( setq flag ( not
 ( or ( <= a 0 ) ( <= b 0 ) ( <= c 0 ) ) ) )</code></pre>

<p>может прийти в голову следующая пагубная идея:</p>
<pre><code> ( setq flag nil )
 ( cond
  ( ( > a 0 ) ( setq flag T ) )
  ( ( > b 0 ) ( setq flag T ) )
  ( ( > c 0 ) ( setq flag T ) )
 )</code></pre>
<P>Программа выглядит работоспособной, но представим себе, что будет происходить при следующих исходных данных: a=10, b=-5, c=2. Функция COND проверит первое условие a>0, убедится в его истинности, установит переменную flag в T и остальные условия вообще проверять не будет! Поэтому тот прискорбный факт, что сторона b меньше нуля, останется незамеченным.</P>




<Hr Width="90%" Color="#7685C6" Align="Right">
<Br>

</Td></Tr></Table>
</Center>

 </Td>
</Tr>
<Tr>
 <Td ColSpan=2>

<Table Border=0 CellSpacing=0 CellPadding=0>
 <Tr>
  <Td BackGround=../../../оболочка/images/b1.gif Width=458 Height=100 Valign=Bottom>
   <P Class=co>Copyright &copy; БГУИР, Кафедра Систем управления, 2015<Br>
   <Img Src=../../../оболочка/images/raspor.gif Width=1 Height=8></P></Td>
  <Td BackGround=../../../оболочка/images/b2.gif Width=159 Height=100>
   <A Href=#Top onMouseOver="mOver(4)" onMouseOut="mOut(4)">
<Img Src=../../../оболочка/images/09a.gif Width=159 Height=46 Border=0 Alt="К началу документа" name="link4"></A><Br>
   <A Href=../../../index.html onMouseOver="mOver(5)" onMouseOut="mOut(5)">
<Img Src=../../../оболочка/images/10a.gif Width=159 Height=54 Border=0 Alt="К первой странице" name="link5"></A></Td>
 </Tr>
</Table>

 </Td>
</Tr>
</Table>

</Body>
</HTML>