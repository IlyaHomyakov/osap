<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>

<Head>
<Meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<Title>Электронный ресурс по учебной дисциплине ОСАПр. Приёмы языка DCL</Title>
<Meta Name="Description" http-equiv="description" Content="Электронный ресурс по учебной дисциплине ОСАПр. Приёмы языка DCL">
<Link Rel="stylesheet" Type="text/css" Href="../../../Оболочка/acad.css">

<Script>hljs.initHighlightingOnLoad();</Script>

<Script Language="JavaScript">
<!--
	function mOver(num) {if (document.images) {document.images['link'+num].src=eval('active'+num+'.src');}}
	function mOut(num) {if (document.images) {document.images['link'+num].src=eval('normal'+num+'.src');}}
//-->
</Script>
</Head>

<Body Bgcolor=#E6E6E6 TopMargin=1 LeftMargin=1 MarginWidth=0 MarginHeight=0 >
<div class=max>
<Script Language="JavaScript"><!--
if (document.images) {
	normal1=new Image(190,29);normal1.src="../../../Оболочка/images//01a.gif";
	active1=new Image(190,29);active1.src="../../../Оболочка/images//01p.gif";
	normal2=new Image(190,29);normal2.src="../../../Оболочка/images/02a.gif";
	active2=new Image(190,29);active2.src="../../../Оболочка/images/02p.gif";
	normal3=new Image(190,29);normal3.src="../../../Оболочка/images//03a.gif";
	active3=new Image(190,29);active3.src="../../../Оболочка/images//03p.gif";
	normal4=new Image(159,46);normal4.src="../../../Оболочка/images//09a.gif";
	active4=new Image(159,46);active4.src="../../../Оболочка/images//09p.gif";
	normal5=new Image(159,54);normal5.src="../../../Оболочка/images//10a.gif";
	active5=new Image(159,54);active5.src="../../../Оболочка/images//10p.gif";
	normal7=new Image(190,29);normal7.src="../../../Оболочка/images//7a.gif";
	active7=new Image(190,29);active7.src="../../../Оболочка/images//7p.gif";
	normal11=new Image(170,25);normal11.src="../../../Оболочка/images//02_1a.gif";
	active11=new Image(170,25);active11.src="../../../Оболочка/images//02_1p.gif";
	normal12=new Image(170,19);normal12.src="../../../Оболочка/images//02_2a.gif";
	active12=new Image(170,19);active12.src="../../../Оболочка/images//02_2p.gif";
	normal13=new Image(170,19);normal13.src="../../../Оболочка/images//02_3a.gif";
	active13=new Image(170,19);active13.src="../../../Оболочка/images//02_3p.gif";
	normal24=new Image(170,19);normal24.src="../../../Оболочка/images//04a.gif";
	active24=new Image(170,19);active24.src="../../../Оболочка/images//04p.gif";
	normal25=new Image(170,19);normal25.src="../../../Оболочка/images//05a.gif";
	active25=new Image(170,19);active25.src="../../../Оболочка/images//05p.gif";
	normal26=new Image(170,19);normal26.src="../../../Оболочка/images//06a.gif";
	active26=new Image(170,19);active26.src="../../../Оболочка/images//06p.gif";
	normal14=new Image(170,19);normal14.src="../../../Оболочка/images//l1_a.gif";
	active14=new Image(170,19);active14.src="../../../Оболочка/images//l1_p.gif";
	normal15=new Image(170,19);normal15.src="../../../Оболочка/images//z_a.gif";
	active15=new Image(170,19);active15.src="../../../Оболочка/images//z_p.gif";
	normal16=new Image(170,19);normal16.src="../../../Оболочка/images//l2_a.gif";
	active16=new Image(170,19);active16.src="../../../Оболочка/images//l2_p.gif";
	normal17=new Image(170,19);normal17.src="../../../Оболочка/images//z_a.gif";
	active17=new Image(170,19);active17.src="../../../Оболочка/images//z_p.gif";
	normal18=new Image(170,19);normal18.src="../../../Оболочка/images//l3_a.gif";
	active18=new Image(170,19);active18.src="../../../Оболочка/images//l3_p.gif";
	normal19=new Image(170,19);normal19.src="../../../Оболочка/images//z_a.gif";
	active19=new Image(170,19);active19.src="../../../Оболочка/images//z_p.gif";
	normal20=new Image(170,19);normal20.src="../../../Оболочка/images//l4_a.gif";
	active20=new Image(170,19);active20.src="../../../Оболочка/images//l4_p.gif";
	normal21=new Image(170,19);normal21.src="../../../Оболочка/images//z_a.gif";
	active21=new Image(170,19);active21.src="../../../Оболочка/images//z_p.gif";
	normal27=new Image(170,19);normal27.src="../../../Оболочка/images/15a.gif";
	active27=new Image(170,19);active27.src="../../../Оболочка/images/15p.gif";
}
//-->
</Script>

<Left>
<A Name="Top"></A>
<Table Border=0 Width=100% CellSpacing=0 CellPadding=0>
<Tr>
 <Td BackGround=../../../Оболочка/images/bg01.gif Width=190 Height=91 name="link19">&nbsp;</Td>
 <Td Rowspan=2 BackGround=../../../Оболочка/images/bg02_acad.gif Height=120 Valign=Bottom style="background-repeat:no-repeat;">

<Table BackGround=../../../Оболочка/images/raspor.gif Border=0 CellSpacing=0 CellPadding=0>
 <Tr>
  <Td Width=230></Td>
  <Td><P Class=h6>AutoLISP<Br><Img Src=../../../Оболочка/images/raspor.gif Width=1 Height=26></P></Td>
 </Tr>
</Table>

</Td></Tr>
<Tr>
 


<Td BackGround=../../../Оболочка/images/bg03.gif>
 <A Href=../../../Программа/!rabprog.html onMouseOver="mOver(26)" onMouseOut="mOut(26)"><Img Src=../../../Оболочка/images/06a.gif Width=190 Height=29 Border=0 
Alt="Рабочая программа" name="link26"></A><Br></Td>

</Tr>
<Tr>
 <Td BackGround=../../../Оболочка/images/bg09.gif Valign=Top>

<Table Border=0 CellSpacing=0 CellPadding=0>
<Tr><Td BackGround=../../../оболочка/images/bg03.gif Valign=Top>
	<A Href=../../../Теория/!lekcii.html onMouseOver="mOver(7)" onMouseOut="mOut(7)"><Img Src=../../../оболочка/images/7a.gif Width=190 Height=29 Border=0 
Alt="Лекции" name="link7"></A><Br>
 </Td>
 <Tr><Td BackGround=../../../оболочка/images/bg04.gif Width=190 Valign=Top>
 <a href="../../!zadanie.html"> <Img Src=../../../оболочка/images/8p.gif Border=0 Width=190 Height=29 Alt="Лабораторные работы"></a><Br></Td>
<Tr><Td BackGround=../../../оболочка/images/bg05_1.gif Width=190 Valign=Top>
  <A href="../lb1/!acad.html" onMouseOver="mOver(14)" onMouseOut="mOut(14)"><Img Src=../../../оболочка/images/l1_a.gif Width=170 Height=40 Border=0 Alt="Лабораторная работа 1" name="link14"></A><Br></Td></Tr>
<Tr><Td BackGround=../../../оболочка/images/bg06.gif Width=190 Height=36 Valign=Top>
   <A href="../lb1/laba1.html"  onMouseOver="mOver(15)" onMouseOut="mOut(15)"><Img Src=../../../Оболочка/images/z_a.gif Width=170 Height=20 Border=0 Alt="Задания 1" name="link15"></A><Br>
  <A href="../lb2/!mechanic.html" onMouseOver="mOver(18)" onMouseOut="mOut(18)"><Img Src=../../../Оболочка/images/l3_a.gif Width=170 Height=40 Border=0 Alt="Лабораторная работа 2" name="link18"></A><Br>
<A  href="../lb2/laba2.html" onMouseOver="mOver(19)" onMouseOut="mOut(19)"><Img Src=../../../Оболочка/images/z_a.gif Width=170 Height=20 Border=0 Alt="Задания 2" name="link19"></A><Br>
  <A href="../lb2/!mechanic.html" onMouseOver="mOver(20)" onMouseOut="mOut(20)"><Img Src=../../../Оболочка/images/l4_a.gif Width=170 Height=40 Border=0 Alt="Лабораторная работа 3" name="link20"></A><Br>
<A href="../lb3/laba3.html"1 onMouseOver="mOver(21)" onMouseOut="mOut(21)"><Img Src=../../../Оболочка/images/z_a.gif Width=170 Height=20 Border=0 Alt="Задания 3" name="link21"></A><Br>
 <A href="../lb4/!lisp.html" onMouseOver="mOver(16)" onMouseOut="mOut(16)"><Img Src=../../../Оболочка/images/l2_a.gif Width=170 Height=40 Border=0 Alt="Лабораторная работа 4" name="link16"></A><Br>
<A  href="../lb4/laba4.html" onMouseOver="mOver(17)" onMouseOut="mOut(17)"><Img Src=../../../Оболочка/images/z_a.gif Width=170 Height=20 Border=0 Alt="Задания 4" name="link17"></A><Br>
  <Img Src=../../../Оболочка/images/bg07.gif Width=190 Height=23><Br></Td></Tr>
 
 <Tr><Td BackGround=../../../оболочка/images/bg03.gif Valign=Top>
   <A Href=../../../Заочнику/!zaochnoe.html onMouseOver="mOver(27)" onMouseOut="mOut(27)"><Img Src=../../../Оболочка/images/15a.gif Width=190 Height=29 Border=0  Alt="Заочнику" name="link27"></A><Br>
  <A Href=../../../Контроль_знаний/!samocontrol.html onMouseOver="mOver(25)" onMouseOut="mOut(25)"><Img Src=../../../оболочка/images/05a.gif Width=190 Height=29 Border=0 
Alt="Самоконтроль" name="link25"></A><Br>
	 <Img Src=../../../оболочка/images/bg08.gif Width=190 Height=13><Br>
</Table></Td>
 <Td Valign=Top>
<P><Br></P>

<Center>
<Table Border=0 CellPadding=0 CellSpacing=0 Width=95%><Tr><Td>

<Br>
<Table Border=0 CellPadding=0 CellSpacing=0>
<Tr><Td Bgcolor=#000000><Img Src=../../../оболочка/images/raspor.gif Height=2></Td>
<Tr><Td Valign=Center Height=30><span Class=h1>Приемы языка DCL</span></Td></Tr>
<Tr><Td Bgcolor=#000000><Img Src=../../../оболочка/images/raspor.gif Height=2></Td></Tr>
</Table></Center><Br>

 <Table valign="left"><Tr align="left"><Td>
<Ul>
<Dt><A Class=m href="#tit1">Управление распределением полей в группе</A></Dt>
<Dt><A Class=m href="#tit2">Нежелательный промежуток справа и внизу диалогового окна</A></Dt>
<Dt><A Class=m href="#tit3">Пространство вокруг ряда или колонки в рамке</A></Dt>
<Dt><A Class=m href="#tit4">Группы текста</A></Dt>
<Dt><A Class=m href="#tit5">Текстовые части (text_part)</A></Dt>
<Dt><A Class=m href="#tit6">Соединение (concatenation)</A></Dt>
<Dt><A Class=m href="#tit7">Абзац (paragraf)</A></Dt>
<Dt><A Class=m href="#tit8">Клавиши выхода из диалогового окна</A></Dt>
<Dt><A Class=m href="#tit9">Изменение надписи клавиши выхода</A></Dt>
<Dt><A Class=m href="#tit10">Поле ошибки - errtile</A></Dt>
</Ul>
</Td></Tr></Table>
<Hr Width="90%" Color="#7685C6" Align="Right">
<Br>


<P>Для правильной компоновки полей в диалоговом окне следует:</P>
<Ul>
 <Li>использовать компоновку по умолчанию и проверить результат: в случае возникновения проблем, похожих на описанные в этом разделе, или специальных случаев, требующих отладки, перейти к следующему шагу;</Li>
 <Li>попытаться отрегулировать компоновку (изменить значения по умолчанию на уровне групп);</Li>
 <Li>отрегулировать отдельные поля.</Li>
</Ul>

<A name="tit1"></A>
<P Class=h3>Управление распределением полей в группе</P>

<P>Пусть определен ряд из трех полей, расположенных вдоль другого поля сверху:</P>

<pre><code> :column {
 : row {
 : compact tile {
 }
 : compact tile {
 }
 : compact tile {
 }
 : large tile {
 }
 }</code></Pre>

<P>Предполагается, что компоненты поля compact_tile имеют атрибут fixed_width и что поле large_tile шире, чем минимальное пространство, необходимое для расположенного выше ряда полей compact_tile. По умолчанию эта группа выглядит следующим образом:</P>

<Center><Img Src=images/lisp/lisp_dcl201.gif><Br>
Горизонтальное выравнивание по умолчанию</Center>

<P>Левая граница правого поля compact_tile выравнивается по левой границе поля large_tile, а правая граница последнего поля compact_tile ряда выравнивается по правой границе поля large_tile. Поля, расположенные между ними, распределяются равномерно. Аналогично выравнивается группа колонок.</P>
<P>Для изменения распределения по умолчанию следует использовать поля spacer_0 и spacer_l, которые отличаются от определенного в файле base.dcl поля spacer.</P>

<P><I>Точка вставки наполнения (spacer_0)</I></P>
<P>Поле spacer_0 в нормальном состоянии не имеет ширины. Оно указывает точку вставки разделителя в группе полей, если группу необходимо растянуть при компоновке. Если группе полей spacer_0 присвоена положительная ширина, то они все будут занимать равную долю пространства.</P>

<Center><Img Src=images/lisp/lisp_dcl202.gif><Br>
Распределение, измененное вставкой наполнения</Center>


<P><I>Единичное наполнение (spacer_1)</I></P>

<P>Поле spacer_l имеет ширину и высоту, равные единице. Поле используется как наименьший разделитель.</P>

<P Class=h55>Пример:</P>

<Center><Img Src=images/lisp/lisp_dcl203.gif><Br>
Распределение, измененное вставкой единичного наполнения</Center>


<P><I>Нежелательный промежуток между полями в прореженных группах</I></P>

<P>Если смежные колонки существенно различаются по размерам, занимаемым полями, поля меньшего размера в группе будут распределены слишком редко.</P>

<P Class=h55>Пример:</P>

<Center><Img Src=images/lisp/lisp_dcl204.gif><Br>
Поля, распределенные слишком редко</Center>

<P>В данном случае колонка будет выглядеть лучше, если присвоить атрибуту fixed-length значение true:

<Center><Img Src=images/lisp/lisp_dcl205.gif><Br>
Скорректированное прореженное распределение</Center>


<A name="tit2"></A>
<P Class=h3>Нежелательный промежуток справа и внизу диалогового окна</P>

<P>Иногда в диалоговых окнах имеется неиспользованное пространство вдоль правой стороны. Это может быть вызвано полями text, у которых выводимое значение меньше, чем значение атрибута width.</P>

<P Class=h55>Пример:</P>

<P>Фрагмент диалогового окна режимов создания примитивов AutoCAD:
<pre><code> : text {
 key = "I_text";
 width = 18;
 fixed_width = true;
 }</code></pre>

<P>В поле text не отображается ничего (атрибут value не установлен). Приложение может вывести надпись в поле text, используя функцию</P>

<pre><code> (set_tile "I_text" "По слою")</code></pre>

<P>Так как ширина надписи "BYLAYER" меньше 18 символов, вдоль правой стороны диалогового окна появится пустое пространство. Для того, чтобы ограничить поле text, его можно вставить в ряд в рамке. Иногда для этого может потребоваться перестановка полей в диалоговом. окне.</P>
<P>Аналогичная ситуация возникает при использовании поля errtile, отображающем сообщение об ошибке: если сообщение об ошибке не выведено, поле выглядит как дополнительное пространство внизу диалогового окна. В этом случае для вертикального выравнивания рекомендуется вставить дополнительное поле spacer в верхнюю часть диалогового окна.</P>


<A name="tit3"></A>
<P Class=h3>Пространство вокруг ряда или колонки в рамке</P>

<P>Если атрибут label ряда или колонки в рамке является пробелом (" ") или не задан (""), рамка группы создается, но не содержит текста. Единственный пробел не прерывает рамку. Следует иметь в виду:</P>
<Ul>
 <Li>если метка является единственным пробелом, то сжимается пространство по вертикали, которое может занимать метка внутри рамки, но не сжимается пространство по вертикали, которое метка может занимать над рамкой;</Li>
 <Li>если метка - пустая строка, сжимается пространство по вертикали как внутри рамки, так и вне ее.</Li>
</Ul>


<A name="tit4"></A>
<P Class=h3>Группы текста</P>

<P>Поле текста обычно окружено свободным пространством, как и любой другой тип поля. При сочетании частей текста может возникнуть проблема, например, при выводе сообщения</P>

<P Class=h5>Текущее время 0800 ч. 37 с.</P>

<P>где значения 0800 и 37 заполняются пользовательским приложением. Чтобы исключить нежелательные свободные промежутки, используются соединенные надписи, построенные из полей text_part. При создании абзаца можно располагать текстовые части (надписи) вертикально и таким образом избежать слишком больших промежутков между строками.</P>
<P>Описанные, в этом разделе поля text_part, concatenation и paragraph, являются полями-прототипами, определенными в файле base.dcl.</P>

<A name="tit5"></A>
<P Class=h3>Текстовые части (text_part)</P>

<P>Текстовая часть - поле надписи, используемое как часть большого куска текста. Граница поля text_part подавляется так, чтобы сочетаться с другими частями text_part в соединении или в поле абзаца.</P>

<A name="tit6"></A>
<P Class=h3>Соединение (concatenation)</P>

<P>Соединение - строка надписи, созданная из множества соединенных полей text_part. Это может быть полезно при вставке в стандартное сообщение какого-нибудь текста, который может изменяться во время выполнения. Граница вокруг соединения представляется как единое целое.</P>

<A name="tit7"></A>
<P Class=h3>Абзац (paragraph)</P>

<P>Группа полей text_part или concatenation, расположенных вертикально относительно друг друга. Это позволяет строить абзацы текста как до выполнения, так и во время выполнения. Граница вокруг абзаца представляется как единое целое.</P>

<A name="tit8"></A>
<P Class=h3>Клавиши выхода из диалогового окна</P>

<P>Файл base.dcl обеспечивает несколько объединений стандартных клавиш для выхода из диалогового окна или его удаления. Эти стандартные объединения следует использовать для сохранения единообразия вида, диалоговых окон среди различных приложений. Кроме того, в версии файла base.dcl эти клавиши определены для каждой платформы с учетом ее особенностей, так что использование этих определений гарантирует совместимость с каждой платформой.</P>


<P><I>Единственная клавиша Да (ОК) - ok_only</I></P>

<P>Клавиша Да (ОК) аналогична клавише в окне предупреждений. Ключ key клавиши Да имеет значение "accept".</P>


<P><I>Да (Ok) и Отмена (cancel) - ok_cancel</I></P>

<P>Комбинация клавиш Да и Отмена (OK and Cancel) - стандартная комбинация для диалоговых окон, в которых могут вноситься изменения в данные. Ключ key клавиши Отмена (Cancel) имеет значение "cancel".</P>


<P><I>Да (Ok), Отмена (Cancel) и Помощь (Help) - ok_cancel_help</I></P>

<P>Группа ok_cancel скомбинирована со стандартной клавишей Помощь (Help). Ключ key клавиши Помощь имеет значение "help".</P>


<P><I>Да (Ok], Отмена (Cancel), Помощь (Help) и Информация (Info) - ok_cancel_help_info</I></P>

<P>Все описанные выше клавиши плюс информационная клавиша для вывода дополнительной информации, которая может отображать имя приложения, товарный знак, номер версии, информацию о получении технического сопровождения и т. д. Ключ key клавиши Инфо... имеет значение "info".</P>



<A name="tit9"></A>
<P Class=h3>Изменение надписи клавиши выхода</P>

<P>Иногда может возникнуть необходимость изменить надпись клавиш выхода, например для создания диалогового окна, которое может удалить данные, используя клавишу Удаление вместо клавиши Да. Для этого следует использовать прототип retirement_button:
<pre><code> destroy_button : retirement_button {
	label  = "Удаление";
	key    = "destroy";
	;mnemonic = "y";
   }</code></pre>

<P>После определения измененной клавиши выхода следует встроить ее в объединение, которое соответствует по виду и действию стандартным группам, описанным в предыдущем разделе. Например, здесь определено поле ok_cancel_help:</P>

<pre><code> ok_cancel_help : column {
 : row {
 fixed_width = true;
 alignment =centered;
 ok_button;
 : spacer {width =2;}
 cancel_button;
 : spacer {width =2;}
 help button;
		}
	}</code></pre>
<P>Описание нового объединения с замещенной клавишей ok_button на новую:</P>
<P Class=h5>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</P>

<P>В стандартном объединении клавиша OK предлагается по умолчанию, но атрибут is_default не добавляется к описанию destroy_button. В подобных ситуациях, если диалоговое окно выполняет действия по удалению, следует сделать клавишу Cancel клавишей по умолчанию. В этом случае она действует и как клавиша по умолчанию, и как клавиша отмены опасной операции:</P>

<pre><code> destroy_cancel_help : column {
 :row {
 fixed_width = true;
 alignment = centered;
 destroy_button;
 : spacer {width =2;}
 : cancel_button {is_default = true;}
 spacer (width =2;}
 help_button;
		} 
	}</code></pre>	
<P>Перед cancel_button ставится двоеточие. Поскольку атрибут изменен, следует использовать исходное описание клавиши Cancel как прототип. Если клавиша отмены и клавиша по умолчанию совпадают (обе имеют атрибуты is_default и is_cancel, установленные в true, как в этом примере) и не присвоено действие с вызовом функции done_dialog любой другой клавише, то ни одна клавиша не сможет закрыть диалоговое окно, и его действие всегда будет отменяться.</P>



<A name="tit10"></A>
<p>Поле ошибки - errtile</P>

<P>Поле надписи, которое, как правило, появляется внизу диалогового окна. По умолчанию оно пусто, но приложение может отобразить в нем сообщение, присвоив значение полю с ключом "error".</P>

<P><I>Да (Ok), Отмена (Cancel), Помощь (Help) и поле ошибки - ok_cancel_help_errtile</I></P>
<P>Объединение, определенное в файле base.dcl, является колонкой, в которой клавиши выхода ok_cancel_help располагаются над стандартным полем errtile. Этим достигается удобное определение одновременно клавиш выхода и поля ошибки.</P>




<Hr Width="90%" Color="#7685C6" Align="Right">
<Br>

</Td></Tr></Table>
</Center>

 </Td>
</Tr>
<Tr>
 <Td ColSpan=2>

<Table Border=0 CellSpacing=0 CellPadding=0>
 <Tr>
  <Td BackGround=../../../оболочка/images/b1.gif Width=458 Height=100 Valign=Bottom>
   <P Class=co>Copyright &copy; БГУИР, Кафедра Систем управления, 2015<Br>
   <Img Src=../../../оболочка/images/raspor.gif Width=1 Height=8></P></Td>
  <Td BackGround=../../../оболочка/images/b2.gif Width=159 Height=100>
   <A Href=#Top onMouseOver="mOver(4)" onMouseOut="mOut(4)">
<Img Src=../../../оболочка/images/09a.gif Width=159 Height=46 Border=0 Alt="К началу документа" name="link4"></A><Br>
   <A Href=../../../index.html onMouseOver="mOver(5)" onMouseOut="mOut(5)">
<Img Src=../../../оболочка/images/10a.gif Width=159 Height=54 Border=0 Alt="К первой странице" name="link5"></A></Td>
 </Tr>
</Table>

 </Td>
</Tr>
</Table>

</Body>
</HTML>