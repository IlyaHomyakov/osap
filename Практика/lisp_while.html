<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>

<Head>
<Meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<Title>Электронный ресурс по учебной дисциплине ОСАПр. Организация циклов</Title>
<Meta Name="Description" http-equiv="description" Content="Электронный ресурс по учебной дисциплине ОСАПр. Организация циклов">
<Link Rel="stylesheet" Type="text/css" Href="../../../Оболочка/acad.css">

<Script>hljs.initHighlightingOnLoad();</Script>

<Script Language="JavaScript">
<!--
	function mOver(num) {if (document.images) {document.images['link'+num].src=eval('active'+num+'.src');}}
	function mOut(num) {if (document.images) {document.images['link'+num].src=eval('normal'+num+'.src');}}
//-->
</Script>
</Head>

<Body Bgcolor=#E6E6E6 TopMargin=1 LeftMargin=1 MarginWidth=0 MarginHeight=0 >
<div class=max>
<Script Language="JavaScript"><!--
if (document.images) {
	normal1=new Image(190,29);normal1.src="../../../Оболочка/images//01a.gif";
	active1=new Image(190,29);active1.src="../../../Оболочка/images//01p.gif";
	normal2=new Image(190,29);normal2.src="../../../Оболочка/images/02a.gif";
	active2=new Image(190,29);active2.src="../../../Оболочка/images/02p.gif";
	normal3=new Image(190,29);normal3.src="../../../Оболочка/images//03a.gif";
	active3=new Image(190,29);active3.src="../../../Оболочка/images//03p.gif";
	normal4=new Image(159,46);normal4.src="../../../Оболочка/images//09a.gif";
	active4=new Image(159,46);active4.src="../../../Оболочка/images//09p.gif";
	normal5=new Image(159,54);normal5.src="../../../Оболочка/images//10a.gif";
	active5=new Image(159,54);active5.src="../../../Оболочка/images//10p.gif";
	normal7=new Image(190,29);normal7.src="../../../Оболочка/images//7a.gif";
	active7=new Image(190,29);active7.src="../../../Оболочка/images//7p.gif";
	normal11=new Image(170,25);normal11.src="../../../Оболочка/images//02_1a.gif";
	active11=new Image(170,25);active11.src="../../../Оболочка/images//02_1p.gif";
	normal12=new Image(170,19);normal12.src="../../../Оболочка/images//02_2a.gif";
	active12=new Image(170,19);active12.src="../../../Оболочка/images//02_2p.gif";
	normal13=new Image(170,19);normal13.src="../../../Оболочка/images//02_3a.gif";
	active13=new Image(170,19);active13.src="../../../Оболочка/images//02_3p.gif";
	normal24=new Image(170,19);normal24.src="../../../Оболочка/images//04a.gif";
	active24=new Image(170,19);active24.src="../../../Оболочка/images//04p.gif";
	normal25=new Image(170,19);normal25.src="../../../Оболочка/images//05a.gif";
	active25=new Image(170,19);active25.src="../../../Оболочка/images//05p.gif";
	normal26=new Image(170,19);normal26.src="../../../Оболочка/images//06a.gif";
	active26=new Image(170,19);active26.src="../../../Оболочка/images//06p.gif";
	normal14=new Image(170,19);normal14.src="../../../Оболочка/images//l1_a.gif";
	active14=new Image(170,19);active14.src="../../../Оболочка/images//l1_p.gif";
	normal15=new Image(170,19);normal15.src="../../../Оболочка/images//z_a.gif";
	active15=new Image(170,19);active15.src="../../../Оболочка/images//z_p.gif";
	normal16=new Image(170,19);normal16.src="../../../Оболочка/images//l2_a.gif";
	active16=new Image(170,19);active16.src="../../../Оболочка/images//l2_p.gif";
	normal17=new Image(170,19);normal17.src="../../../Оболочка/images//z_a.gif";
	active17=new Image(170,19);active17.src="../../../Оболочка/images//z_p.gif";
	normal18=new Image(170,19);normal18.src="../../../Оболочка/images//l3_a.gif";
	active18=new Image(170,19);active18.src="../../../Оболочка/images//l3_p.gif";
	normal19=new Image(170,19);normal19.src="../../../Оболочка/images//z_a.gif";
	active19=new Image(170,19);active19.src="../../../Оболочка/images//z_p.gif";
	normal20=new Image(170,19);normal20.src="../../../Оболочка/images//l4_a.gif";
	active20=new Image(170,19);active20.src="../../../Оболочка/images//l4_p.gif";
	normal21=new Image(170,19);normal21.src="../../../Оболочка/images//z_a.gif";
	active21=new Image(170,19);active21.src="../../../Оболочка/images//z_p.gif";
	normal27=new Image(170,19);normal27.src="../../../Оболочка/images/15a.gif";
	active27=new Image(170,19);active27.src="../../../Оболочка/images/15p.gif";
}
//-->
</Script>

<Left>
<A Name="Top"></A>
<Table Border=0 Width=100% CellSpacing=0 CellPadding=0>
<Tr>
 <Td BackGround=../../../Оболочка/images/bg01.gif Width=190 Height=91 name="link19">&nbsp;</Td>
 <Td Rowspan=2 BackGround=../../../Оболочка/images/bg02_acad.gif Height=120 Valign=Bottom style="background-repeat:no-repeat;">

<Table BackGround=../../../Оболочка/images/raspor.gif Border=0 CellSpacing=0 CellPadding=0>
 <Tr>
  <Td Width=230></Td>
  <Td><P Class=h6>AutoLISP<Br><Img Src=../../../Оболочка/images/raspor.gif Width=1 Height=26></P></Td>
 </Tr>
</Table>

</Td></Tr>
<Tr>
 


<Td BackGround=../../../Оболочка/images/bg03.gif>
 <A Href=../../../Программа/!rabprog.html onMouseOver="mOver(26)" onMouseOut="mOut(26)"><Img Src=../../../Оболочка/images/06a.gif Width=190 Height=29 Border=0 
Alt="Рабочая программа" name="link26"></A><Br></Td>

</Tr>
<Tr>
 <Td BackGround=../../../Оболочка/images/bg09.gif Valign=Top>

<Table Border=0 CellSpacing=0 CellPadding=0>
<Tr><Td BackGround=../../../оболочка/images/bg03.gif Valign=Top>
	<A Href=../../../Теория/!lekcii.html onMouseOver="mOver(7)" onMouseOut="mOut(7)"><Img Src=../../../оболочка/images/7a.gif Width=190 Height=29 Border=0 
Alt="Лекции" name="link7"></A><Br>
 </Td>
 <Tr><Td BackGround=../../../оболочка/images/bg04.gif Width=190 Valign=Top>
 <a href="../../!zadanie.html"> <Img Src=../../../оболочка/images/8p.gif Border=0 Width=190 Height=29 Alt="Лабораторные работы"></a><Br></Td>
<Tr><Td BackGround=../../../оболочка/images/bg05_1.gif Width=190 Valign=Top>
  <A href="../lb1/!acad.html" onMouseOver="mOver(14)" onMouseOut="mOut(14)"><Img Src=../../../оболочка/images/l1_a.gif Width=170 Height=40 Border=0 Alt="Лабораторная работа 1" name="link14"></A><Br></Td></Tr>
<Tr><Td BackGround=../../../оболочка/images/bg06.gif Width=190 Height=36 Valign=Top>
   <A href="../lb1/laba1.html"  onMouseOver="mOver(15)" onMouseOut="mOut(15)"><Img Src=../../../Оболочка/images/z_a.gif Width=170 Height=20 Border=0 Alt="Задания 1" name="link15"></A><Br>
  <A href="../lb2/!mechanic.html" onMouseOver="mOver(18)" onMouseOut="mOut(18)"><Img Src=../../../Оболочка/images/l3_a.gif Width=170 Height=40 Border=0 Alt="Лабораторная работа 2" name="link18"></A><Br>
<A  href="../lb2/laba2.html" onMouseOver="mOver(19)" onMouseOut="mOut(19)"><Img Src=../../../Оболочка/images/z_a.gif Width=170 Height=20 Border=0 Alt="Задания 2" name="link19"></A><Br>
  <A href="../lb2/!mechanic.html" onMouseOver="mOver(20)" onMouseOut="mOut(20)"><Img Src=../../../Оболочка/images/l4_a.gif Width=170 Height=40 Border=0 Alt="Лабораторная работа 3" name="link20"></A><Br>
<A href="../lb3/laba3.html"1 onMouseOver="mOver(21)" onMouseOut="mOut(21)"><Img Src=../../../Оболочка/images/z_a.gif Width=170 Height=20 Border=0 Alt="Задания 3" name="link21"></A><Br>
 <A href="../lb4/!lisp.html" onMouseOver="mOver(16)" onMouseOut="mOut(16)"><Img Src=../../../Оболочка/images/l2_a.gif Width=170 Height=40 Border=0 Alt="Лабораторная работа 4" name="link16"></A><Br>
<A  href="../lb4/laba4.html" onMouseOver="mOver(17)" onMouseOut="mOut(17)"><Img Src=../../../Оболочка/images/z_a.gif Width=170 Height=20 Border=0 Alt="Задания 4" name="link17"></A><Br>
  <Img Src=../../../Оболочка/images/bg07.gif Width=190 Height=23><Br></Td></Tr>
 
 <Tr><Td BackGround=../../../оболочка/images/bg03.gif Valign=Top>
   <A Href=../../../Заочнику/!zaochnoe.html onMouseOver="mOver(27)" onMouseOut="mOut(27)"><Img Src=../../../Оболочка/images/15a.gif Width=190 Height=29 Border=0  Alt="Заочнику" name="link27"></A><Br>
  <A Href=../../../Контроль_знаний/!samocontrol.html onMouseOver="mOver(25)" onMouseOut="mOut(25)"><Img Src=../../../оболочка/images/05a.gif Width=190 Height=29 Border=0 
Alt="Самоконтроль" name="link25"></A><Br>
	 <Img Src=../../../оболочка/images/bg08.gif Width=190 Height=13><Br>
</Table></Td>
 <Td Valign=Top>
<P><Br></P>

<Center>
<Table Border=0 CellPadding=0 CellSpacing=0 Width=95%><Tr><Td>

<Br>
<Table Border=0 CellPadding=0 CellSpacing=0>
<Tr><Td Bgcolor=#000000><Img Src=../../../оболочка/images/raspor.gif Height=2></Td>
<Tr><Td Valign=Center Height=30><span Class=h1>Организация циклов</span></Td></Tr>
<Tr><Td Bgcolor=#000000><Img Src=../../../оболочка/images/raspor.gif Height=2></Td></Tr>
</Table></Center><Br>


<P>Как и многие языки программирования, AutoLISP имеет средства организации повтора выполнения групп операторов. Циклы полезны, например:</P>
<Ul>
 <Li>для уменьшения числа операторов в программе (в случае повтора однотипных действий);</Li>
 <Li>для повтора выполнения процедуры до отмены ее пользователем;</Li>
 <Li>для получения решения математической задачи со сходимостью;</Li>
 <Li>для пакетной обработки списков данных (например, при работе DXF-файлом).</Li>
</Ul>

<P>Операторы организации циклов AutoLISP аналогичны командам циклов в других структурных языках. Следует отметить, однако, определенную бедность AutoLISP в этом отношении, обусловленную, вероятно, его спецификой.</P>
<P>Простейшим оператором повтора является оператор REPEAT. Эта функция повторяет любое число операторов указанное число раз. Возвращается последнее значение последнего выражения цикла. Синтаксис:</P>

<P Class=h5>(repeat число выражение1 выражение2 ...)</P>
<pre><code>(setq a 10 b 100)
 (repeat 4
  (setq a (+ a 10))
  (setq b (+ b 100))
 )</code></pre>
<P>Функция WHILE похожа на функцию REPEAT, однако число повтора не определено, а выход из цикла осуществляется по условию. В отличие от структуры IF оператор WHILE не включает в себя выполнение какого-либо выражения в том случае, если условие не выполняется. Как COND, REPEAT и PROGN, WHILE позволяет включать в свое тело неограниченное число операторов. В начале выполнения каждого цикла проверяется условие и, если оно выполняется, выполняется тело цикла, после чего опять проверяется условие, и так до тех пор, пока выражение-условие не станет ложным. Будьте внимательными: неаккуратное использование цикла WHILE может привести к зацикливанию программы. Цикл WHILE возвращает значение последнего вычисленного перед выходом из цикла выражения. Если выражение-условие изначально было ложным и вхождения в тело цикла не было, WHILE возвращает nil. Функцию WHILE удобно использовать для проверки правильности ввода, зацикливая ввод до тех пор, пока введенные данные не будут удовлетворять каким-то условиям (прежде чем использовать для этих целей функцию WHILE, убедитесь, что ту же задачу нельзя решить обычными средствами AutoLISP - getkword). Цикл WHILE можно использовать также для организации итераций. Итерация - это процесс повторения группы вычислений до тех пор, пока результат вычисления одного или более выражений не станет удовлетворять какому-то условию. Условное выражение итерационного цикла WHILE обычно содержит некоторую переменную, значение которой изменяется в процессе выполнения тела цикла. Синтаксис WHILE:</P>

<pre><code> (while тест-выражение выражение1 выражение2 ...)</code></pre>
<Br>
<pre class="lisp"><code> (setq test 1)
 (while (<= test 10)
  (some-func test)
  (setq test (1+ test))
 )</code></pre>
<P>Еще одним типом функции-организатора цикла является функция FOREACH (буквально "для каждого"). Это специальное средство AutoLISP, предназначенное для работы со списками. Синтаксис:</P>

<pre><code> (foreach имя список выражение1 выражение2 ...)</code></pre>

<P>Эта функция, проходя по списку, присваивает каждому элементу имя и вычисляет каждое выражение для каждого элемента списка. Может быть задано неограниченное число выражений. Возвращается результат последнего вычисленного выражения. Например,</P>

<pre><code> (foreach n '(а b с) (print n))

 эквивалентно

 (print a)
 (print b)
 (print с)</code></pre>
<P>с той разницей, что FOREACH возвращает только значение последнего вычисленного выражения.</P>
<pre><code>(apply функция список)</code></pre>

<P>Данная функция выполняет функцию с аргументом, заданным списком.</P>
<P>Для выполнения какой-либо одной операции над всеми элементами одного или нескольких списков служит функция</P>
<pre><code> (mapcar функция список1 список2 ...списокN)</code></pre>

<P>Число списков должно соответствовать числу аргументов, требующихся для функции. Функции возвращают список результатов.</P>
<P>Если вам необходимо использовать свою функцию, она должна быть заранее определена с помощью DEFUN. Однако в AutoLISP есть механизм создания так называемой анонимной функции</P>
<pre><code> (lambda аргументы выражение ....)</code></pre>

<P>Она применяется вместе с MAPCAR и APPLY.</P>

<P>Примеры:</P>
<pre><code> (apply '+ '(1 2 3))
 возвращает 6

 (apply '(lambda (x у z)
  (* x (-y z))
  )
  '(5 20 14)
 )
 возвращает 30

 (mapcar '(lambda (x у)
  (/ (+ x y) 2.0))
  '(1 2 3) '(5 6 7)
 )
 возвращает (3.0 4.0 5.0)</code></pre>

<P>Самым значительным отличием языков семейства LISP от других языков высокого уровня является возможность конструирования функций языка самой программой. Сначала вы можете составить выражение, а затем его выполнить. Для выполнения сконструированного выражения служит функция</P>

<P Class=h5>(eval выражение)</P>
<P Class=h5>Пример:</P>
<pre><code> (setq a '(max))
 (while (not (setq b (getreal "\Введите число: ")))
 (setq a (cons b a)))
 (setq a (reverse a))
 (eval a)</code></pre>

<P>В этом достаточно сложном примере последовательно вводятся числа, заносимые в список до тех пор, пока их ряд не закончится пустым вводом. В конце списка оказалось имя функции МАХ. Затем этот список переворачивается так, чтобы имя функции оказалось на первом месте. Применение функции EVAL к полученному списку возвращает максимальное из введенных чисел.</P>



<Hr Width="90%" Color="#7685C6" Align="Right">
<Br>

</Td></Tr></Table>
</Center>

 </Td>
</Tr>
<Tr>
 <Td ColSpan=2>

<Table Border=0 CellSpacing=0 CellPadding=0>
 <Tr>
  <Td BackGround=../../../оболочка/images/b1.gif Width=458 Height=100 Valign=Bottom>
   <P Class=co>Copyright &copy; БГУИР, Кафедра Систем управления, 2015<Br>
   <Img Src=../../../оболочка/images/raspor.gif Width=1 Height=8></P></Td>
  <Td BackGround=../../../оболочка/images/b2.gif Width=159 Height=100>
   <A Href=#Top onMouseOver="mOver(4)" onMouseOut="mOut(4)">
<Img Src=../../../оболочка/images/09a.gif Width=159 Height=46 Border=0 Alt="К началу документа" name="link4"></A><Br>
   <A Href=../../../index.html onMouseOver="mOver(5)" onMouseOut="mOut(5)">
<Img Src=../../../оболочка/images/10a.gif Width=159 Height=54 Border=0 Alt="К первой странице" name="link5"></A></Td>
 </Tr>
</Table>

 </Td>
</Tr>
</Table>

</Body>
</HTML>